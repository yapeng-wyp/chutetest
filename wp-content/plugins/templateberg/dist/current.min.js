!function(c){function s(t,a){let s=window.location.href,e=new RegExp("[?|&]"+t+"=[0-9a-zA-Z_+-|.,;]*");if(e.test(s)){let e=new RegExp("[?&]"+t+"=([^&#]*)");var i=e.exec(s)[0].charAt(0);s=s.replace(e,i+t+"="+a)}else{t=t+"="+a;s.indexOf("?")||(s+="?"),-1<s.indexOf("#")?(a=s.split("#"),s=a[0]+"&"+t+(a[1]?"#"+a[1]:"")):s+="&"+t}window.history.pushState(null,document.title,s)}function l(e){let t=window.location.search.substring(1),a=t.split("&"),s,i;for(i=0;i<a.length;i++)if((s=a[i].split("="))[0]===e)return s[1],decodeURIComponent(s[1]);return!1}let t=!1;class a{constructor(){this.purchasesIds=templateberg_current_theme.purchasesIds,this.state={tab:"all",isLoaded:!1,isError:!1,isMissing:!1,isAllCatSelected:!1,isFreeCatSelected:!1,isProCatSelected:!1,selectedCategory:"all",search:"",allThemeCats:[],allThemeFreeCats:[],allThemeProCats:[],normalThemeCats:[],normalThemeFreeCats:[],normalThemeProCats:[],gutenbergThemeCats:[],gutenbergThemeFreeCats:[],gutenbergThemeProCats:[],fseThemeCats:[],fseThemeFreeCats:[],fseThemeProCats:[],elementorThemeCats:[],elementorThemeFreeCats:[],elementorThemeProCats:[],data:[],countItems:[],countFreeItems:[],countProItems:[],sort:""}}toTitleCase(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}setState(e){let a=this;c.each(e,function(e,t){a.state[e]=t})}mobileMenu(){c(document).on("click",".tb-list__btn",function(){c(window).width()<767&&(c(".tb-list__template").toggleClass("tb-show-cat-sidebar"),c("body").toggleClass("tb-overflow"))}),c(window).on("resize",function(){767<c(this).width()&&(c(".tb-list__template").hasClass("tb-show-cat-sidebar")&&c(".tb-list__template").removeClass("tb-show-cat-sidebar"),c("body").hasClass("tb-overflow")&&c("body").removeClass("tb-overflow"))})}fixTab(e){return"all"}templateFetch(t=!1,e){let a;if(a=e||("popularity"===t?templateberg_current_theme.popularThemes:templateberg_current_theme.allThemes),Array.isArray(a)){let s=[],i=[],l=[],r=[],n=[],o=[],c=[],m=[],_=[],d=[],p=[],b=[],h=[],u=[],v=[],f=[],g=[],C=[],e=[];function w(e,t,a=!1){void 0===f[e]&&(f[e]=[]),a?void 0===f[e].all?f[e].all=1:f[e].all++:void 0===f[e][t]?f[e][t]=1:f[e][t]++}function y(e,t,a=!1){void 0===C[e]&&(C[e]=[]),a?void 0===C[e]["all-pro"]?C[e]["all-pro"]=1:C[e]["all-pro"]++:void 0===C[e][t]?C[e][t]=1:C[e][t]++}function T(e,t,a=!1){void 0===g[e]&&(g[e]=[]),a?void 0===g[e]["all-free"]?g[e]["all-free"]=1:g[e]["all-free"]++:void 0===g[e][t]?g[e][t]=1:g[e][t]++}a.map(t=>{let a=t.type;void 0===e[a]&&(e[a]=[]),e[a].push(t),void 0===e.all&&(e.all=[]),e.all.push(t),void 0===e.purchased&&(e.purchased=[]),t.is_pro&&this.templatebergIsCurrentThemeTemplateAvailable(t)&&e.purchased.push(t),w(a,"",!0),(t.is_pro?y:T)(a,"",!0),w("all","",!0),(t.is_pro?y:T)("all","",!0),t.categories&&(t.categories.map(e=>{t.is_pro?(l.push(e),y("all",e)):(i.push(e),T("all",e)),s.push(e),w("all",e)}),"normal"===a?t.categories.map(e=>{t.is_pro?(o.push(e),y(a,e)):(n.push(e),T(a,e)),r.push(e),w(a,e)}):"gutenberg"===a?t.categories.map(e=>{t.is_pro?(_.push(e),y(a,e)):(m.push(e),T(a,e)),c.push(e),w(a,e)}):"full-site-editing"===a?t.categories.map(e=>{t.is_pro?(b.push(e),y(a,e)):(p.push(e),T(a,e)),d.push(e),w(a,e)}):"elementor"===a&&t.categories.map(e=>{t.is_pro?(v.push(e),y(a,e)):(u.push(e),T(a,e)),h.push(e),w(a,e)}))}),s=s.filter((e,t,a)=>a.indexOf(e)===t).sort(),i=i.filter((e,t,a)=>a.indexOf(e)===t).sort(),l=l.filter((e,t,a)=>a.indexOf(e)===t).sort(),r=r.filter((e,t,a)=>a.indexOf(e)===t).sort(),n=n.filter((e,t,a)=>a.indexOf(e)===t).sort(),o=o.filter((e,t,a)=>a.indexOf(e)===t).sort(),c=c.filter((e,t,a)=>a.indexOf(e)===t).sort(),m=m.filter((e,t,a)=>a.indexOf(e)===t).sort(),_=_.filter((e,t,a)=>a.indexOf(e)===t).sort(),d=d.filter((e,t,a)=>a.indexOf(e)===t).sort(),p=p.filter((e,t,a)=>a.indexOf(e)===t).sort(),b=b.filter((e,t,a)=>a.indexOf(e)===t).sort(),h=h.filter((e,t,a)=>a.indexOf(e)===t).sort(),u=u.filter((e,t,a)=>a.indexOf(e)===t).sort(),v=v.filter((e,t,a)=>a.indexOf(e)===t).sort();t=this.fixTab(e);this.setState({allThemeCats:s,allThemeFreeCats:i,allThemeProCats:l,normalThemeCats:r,normalThemeFreeCats:n,normalThemeProCats:o,gutenbergThemeCats:c,gutenbergThemeFreeCats:m,gutenbergThemeProCats:_,fseThemeCats:d,fseThemeFreeCats:p,fseThemeProCats:b,elementorThemeCats:h,elementorThemeFreeCats:u,elementorThemeProCats:v,data:e,isLoaded:!0,countItems:f,countFreeItems:g,countProItems:C,tab:t})}else this.setState({isLoaded:!0,isError:!0})}getCategories(){let t=this,e,a;return"all"===this.state.tab&&(a=this.state.allThemeCats),"normal"===this.state.tab?a=this.state.normalThemeCats:"gutenberg"===this.state.tab?a=this.state.gutenbergThemeCats:"full-site-editing"===this.state.tab?a=this.state.fseThemeCats:"elementor"===this.state.tab&&(a=this.state.elementorThemeCats),!!a&&(!!t.state.countItems[this.state.tab]&&(!!(e=a.map(e=>({label:t.toTitleCase(e),value:e,count:t.state.countItems[this.state.tab][e]})))&&[{label:templateberg_current_theme.text.allItems,value:"all",count:t.state.countItems[this.state.tab].all},...e]))}getFreeCategories(){let t=this,e,a;return"all"===this.state.tab?a=this.state.allThemeFreeCats:"normal"===this.state.tab?a=this.state.normalThemeFreeCats:"gutenberg"===this.state.tab?a=this.state.gutenbergThemeFreeCats:"full-site-editing"===this.state.tab?a=this.state.fseThemeFreeCats:"elementor"===this.state.tab&&(a=this.state.elementorThemeFreeCats),!!a&&(!!t.state.countFreeItems[this.state.tab]&&(!!(e=a.map(e=>({label:t.toTitleCase(e),value:e,count:t.state.countFreeItems[this.state.tab][e]})))&&[{label:templateberg_current_theme.text.allItems,value:"all-free",count:t.state.countFreeItems[this.state.tab]["all-free"]},...e]))}getProCategories(){let t=this,e,a;return"all"===this.state.tab?a=this.state.allThemeProCats:"normal"===this.state.tab?a=this.state.normalThemeProCats:"gutenberg"===this.state.tab?a=this.state.gutenbergThemeProCats:"full-site-editing"===this.state.tab?a=this.state.fseThemeProCats:"elementor"===this.state.tab&&(a=this.state.elementorThemeProCats),!!a&&(!!t.state.countProItems[this.state.tab]&&(!!(e=a.map(e=>({label:t.toTitleCase(e),value:e,count:t.state.countProItems[this.state.tab][e]})))&&[{label:templateberg_current_theme.text.allItems,value:"all-pro",count:t.state.countProItems[this.state.tab]["all-pro"]},...e]))}renderCategories(){let e=this,a="",s="",i="";const l=e=>"all"===e?"tb-list__current_item":"";e.getCategories()&&e.getCategories().map(e=>{var t=(t='<li class="'+l(e.value)+'">')+'<a href="#" data-cat="'+e.value+'">'+e.label.replace("-"," ")+"<span>"+e.count+"</span></a>";t+="</li>",a+=t}),e.getFreeCategories()&&e.getFreeCategories().map(e=>{var t=(t='<li class="'+l(e.value)+'">')+'<a href="#" data-cat="'+e.value+'">'+e.label.replace("-"," ")+"<span>"+e.count+"</span></a>";t+="</li>",s+=t}),e.getProCategories()&&e.getProCategories().map(e=>{var t=(t='<li class="'+l(e.value)+'">')+'<a href="#" data-cat="'+e.value+'">'+e.label.replace("-"," ")+"<span>"+e.count+"</span></a>";t+="</li>",i+=t}),c(".tb-list__cat_lists").html(a),c(".tb-cat-lists-free").html(s),c(".tb-cat-lists-pro").html(i)}templatebergIsCurrentThemeTemplateAvailable(e){let t=!1;return e.is_pro?this.purchasesIds&&0!==this.purchasesIds.length?this.purchasesIds.includes(e.id)&&(t=!0):t=!1:t=!0,t}renderItem(t,a,s=!0,e=null){let i="";if(0===e){i="tb-list__item_current";let e=c(".tb-list__item");e.removeClass("tb-list__item_current")}let l="";l=0<t.price?t.price_with_symbol:"Free";var r,e='<div aria-label="'+t.title+'" class="tb-list__item tb-list__active_theme '+i+'" data-id="'+t.id+'" data-type="'+t.type+'">',e=(e+='<div class="tb-list__item_preview">')+'<img src="'+t.screenshot_url+'" loading="lazy">';return e+=s?'<span class="tb-list__author"><i class="fas fa-user"></i>'+templateberg_current_theme.text.by+" "+t.author+"</span>":"",e+="</div>",e+='<div class="tb-list__item_footer">',e+='<div class="tb-list__item_price">',e+="<span>",e+=l,e+="</span>",e=(e+="</div>")+'<div class="tb-list__item_meta"><h4><a class="tb-list__item_title_link" href="'+t.permalink+'">'+t.title+"</a></h4>"+((r=t)&&r.theme?'<span class="tb-list__item-theme"><span class="tb-list__item-theme--link" data-theme_slug="'+r.theme.slug+'"><span class="dashicons dashicons-saved"></span>'+r.theme.name+"</span></span>":"")+"</div>",e=(e+='<div class="tb-list__item_actions">')+'<a class="tb-item__preview_link" href="'+t.demo_url+'" target="_blank">'+templateberg_current_theme.text.preview+"</a>",e+=function(){if(s){var e=t.is_pro?"pro":"free";return a.templatebergIsCurrentThemeTemplateAvailable(t)?'<a class="tb-list__item_btn tb-list__item_buy_btn" data-id="'+t.id+'" data-is_pro="'+e+'" data-is_available="yes" href="'+t.permalink+'" data-theme_name="'+t.theme.name+'" data-theme_slug="'+t.theme.slug+'" rel="noopener" target="_blank"> '+templateberg_current_theme.text.import+"</a>":'<a class="tb-list__item_btn tb-list__item_buy_btn" data-id="'+t.id+'" data-is_pro="'+e+'" data-is_available="no" href="'+t.permalink+'" data-theme_name="'+t.theme.name+'" data-theme_slug="'+t.theme.slug+'" rel="noopener" target="_blank">'+templateberg_current_theme.text.purchase+"</a>"}return""}(),e+="</div>",e+="</div>",e+="</div>"}renderTemplates(){c("body").addClass("tb-templates-loading");let t=this,a="";t.state.data[t.state.tab]&&t.state.data[t.state.tab].map(e=>{if(("all-pro"===this.state.selectedCategory&&t.state.countProItems[this.state.tab]||"all-free"===this.state.selectedCategory&&t.state.countFreeItems[this.state.tab]||"all"===this.state.selectedCategory||e.categories&&e.categories.includes(this.state.selectedCategory))&&(!this.state.search||e.keywords&&e.keywords.some(e=>e.toLowerCase().includes(this.state.search.toLowerCase()))||e.title.toLowerCase().includes(this.state.search.toLowerCase()))){if(!this.state.isAllCatSelected&&this.state.isProCatSelected&&!e.is_pro)return"";if(!this.state.isAllCatSelected&&this.state.isFreeCatSelected&&e.is_pro)return"";e=t.renderItem(e,t);a+=e}}),a=a||'<span class="tb-list__content-no-item">'+templateberg_current_theme.text.noItem+"</span>",c(".tb-list__content").html(a),t.lazyLoading(),setTimeout(function(){c("body").removeClass("tb-templates-loading")},500)}renderTKTemplates(t){let i=this,l=null,a=i.state.data[i.state.tab].find(e=>e.id==t);if(a&&a.templates&&a.templates.length){let s="";a.templates.forEach(function(e,t){var a=i.renderItem(e,i,!1,t);s+=a,0===t&&(l=e.demo_url)});let e=c("#tb-list__item_preview");s='<div class="tb-list__tk_templates">'+s+"</div>",e.find(".tb-list__item_buy_btn").after(s),i.lazyLoading()}return l}lazyLoading(){c(".tb-list__item_preview img").each(function(){c(this).on("load",function(){c(this).parent().addClass("tb-list__img_loaded")}).each(function(){this.complete&&c(this).load()})})}run(){this.templateFetch(),this.mobileMenu();let i=this;c(document).on("click",".tb-list__categories-tab-item",function(e){e.preventDefault();let t=c(this),a=t.attr("data-id"),s=t.closest(".tb-list__categories");if(t.addClass("tb-filter-active"),t.siblings().removeClass("tb-filter-active"),"all"===a){let e=s.find(".tb-cat-lists-all");e.addClass("tb-cats-content-active"),e.siblings().removeClass("tb-cats-content-active"),i.setState({selectedCategory:"all",isAllCatSelected:!0,isFreeCatSelected:!1,isProCatSelected:!1})}else if("free"===a){let e=s.find(".tb-cat-lists-free");e.addClass("tb-cats-content-active"),e.siblings().removeClass("tb-cats-content-active"),i.setState({selectedCategory:"all-free",isAllCatSelected:!1,isFreeCatSelected:!0,isProCatSelected:!1})}else if("pro"===a){let e=s.find(".tb-cat-lists-pro");e.addClass("tb-cats-content-active"),e.siblings().removeClass("tb-cats-content-active"),i.setState({selectedCategory:"all-pro",isAllCatSelected:!1,isFreeCatSelected:!1,isProCatSelected:!0})}i.renderCategories(),i.renderTemplates()}),c(document).on("click",".tb-cat-lists-all li",function(e){e.preventDefault(),i.setState({isAllCatSelected:!0,isFreeCatSelected:!1,isProCatSelected:!1})}),c(document).on("click",".tb-cat-lists-free li",function(e){e.preventDefault(),i.setState({isAllCatSelected:!1,isFreeCatSelected:!0,isProCatSelected:!1})}),c(document).on("click",".tb-cat-lists-pro li",function(e){e.preventDefault(),i.setState({isAllCatSelected:!1,isFreeCatSelected:!1,isProCatSelected:!0})}),c(document).on("click",".tb-list__sidebar a",function(e){e.preventDefault();e=c(this).data("cat");if(e===i.state.selectedCategory)return!1;c(this).parent("li").siblings().removeClass("tb-list__current_item"),c(this).parent("li").addClass("tb-list__current_item"),i.setState({selectedCategory:e}),i.renderTemplates()}),c(document).on("click",".tb-list__cat_btn",function(e){e.preventDefault();e=c(this).data("type");if(e===i.state.tab)return!1;"purchased"===e?c(".tb-list__categories").hide():c(".tb-list__categories").show(),c(this).siblings().removeClass("is-selected"),c(this).addClass("is-selected"),c(".tb-list__searchinput").val(""),i.setState({tab:e,selectedCategory:"all",search:""}),i.renderCategories(),i.renderTemplates()}),c(".tb-list__search i").on("click",function(e){e.preventDefault(),i.setState({search:c(".tb-list__searchinput").val()}),i.renderTemplates()}),c(".tb-list__searchinput").keyup(function(e){13===e.keyCode&&(e.preventDefault(),i.setState({search:c(".tb-list__searchinput").val()}),i.renderTemplates())}),c("#tb-list__sorting_select").on("change",function(e){e.preventDefault(),i.setState({sort:c(this).val()}),i.templateFetch(c(this).val()),i.renderTemplates()}),c(document).on("click",".tb-list__page-link",function(e){e.preventDefault();let t=c(this).data("gpage"),a=c(this).attr("href");c.ajax({type:"GET",url:templateberg_current_theme.restUrl+"connect/v1/get_archive_page",data:{page:t,sort:i.state.sort},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",templateberg_current_theme.restNonce)}}).done(function(e){e&&(i.templateFetch(!1,e.templates),c(".tb-list__navigation").replaceWith(e.pagination),c(".tb-list__links").replaceWith(e.header),i.renderCategories(),c(".tb-list__categories-wrap-tab").children().first().trigger("click"),history.pushState({},null,a))}).fail(function(e,t,a){console.log(e+" :: "+t+" :: "+a)}).always(function(){})}),i.lazyLoading()}}class i{constructor(){this.state={archiveDownload:null}}setState(e){let a=this;c.each(e,function(e,t){a.state[e]=t})}hasPrevItem(){let e=c(".tb-list__item_current");return!!e.prev().length}hasNextItem(){let e=c(".tb-list__item_current");return!!e.next().length}showHidePrevNext(){this.hasNextItem()?c(".tb-preview__next").removeClass("tb-list__page-disabled"):c(".tb-preview__next").addClass("tb-list__page-disabled"),this.hasPrevItem()?c(".tb-preview__prev").removeClass("tb-list__page-disabled"):c(".tb-preview__prev").addClass("tb-list__page-disabled")}hideControls(){c(document).on("click",".tb-preview__collapse-btn",function(e){e.preventDefault(),c(".tb-preview__wrapper").toggleClass("tb-preview__sidebar-hide")})}devicePreview(){c(document).on("click",".tb-preview__desktop",function(e){e.preventDefault(),c(".tb-preview__wrapper").removeClass("tb-preview-t tb-preview-m"),c(this).addClass("active").siblings().removeClass("active")}),c(document).on("click",".tb-preview__tablet",function(e){e.preventDefault(),c(".tb-preview__wrapper").removeClass("tb-preview-t tb-preview-m").addClass("tb-preview-t"),c(this).addClass("active").siblings().removeClass("active")}),c(document).on("click",".tb-preview__mobile",function(e){e.preventDefault(),c(".tb-preview__wrapper").removeClass("tb-preview-t tb-preview-m").addClass("tb-preview-m"),c(this).addClass("active").siblings().removeClass("active")})}hidePreview(){c(document).on("click",".tb-preview__close",function(e){e.preventDefault(),c("body").removeClass("tb-preview"),c("#tb-list__item_preview").hide(),c(".tb-list__tk_templates").remove()})}renderPreview(){let e=c(".tb-list__item_current"),t=e.data("id"),a=e.find("img").attr("src"),s=e.find("h4").text(),i=e.find(".tb-list__item_title_link").attr("href"),l=e.find(".tb-list__author").html(),r=e.find(".tb-item__preview_link").attr("href"),n=c("#tb-list__item_preview");var o;n.addClass("tb-item__preview_loading"),n.find(".tb-list__item_buy_btn").remove(),n.find(".tb-list__item").remove(),n.find("h4").text(s),n.find("img").attr("src",a),n.find(".tb-list__item_title_link").attr("href",i),n.find(".tb-preview__author").html(l),e.find(".tb-list__item_buy_btn").clone().insertAfter(n.find(".tb-preview__author")),c("body").addClass("tb-preview"),document.getElementById("tb-preview__frame").src=r,this.state.archiveDownload&&t&&((o=this.state.archiveDownload.renderTKTemplates(t))&&(document.getElementById("tb-preview__frame").src=o)),n.show(),this.showHidePrevNext(),setTimeout(function(){n.removeClass("tb-item__preview_loading")},3e3)}replacePreview(){let e=c(".tb-list__item_current"),t=e.find(".tb-item__preview_link").attr("href"),a=c("#tb-list__item_preview");a.addClass("tb-item__preview_loading"),document.getElementById("tb-preview__frame").src=t,this.showHidePrevNext(),setTimeout(function(){a.removeClass("tb-item__preview_loading")},3e3)}run(e=null){e.run();let i=this;i.setState({archiveDownload:e}),c(document).on("click",".tb-item__preview_link",function(e){e.preventDefault();let t=c(this).closest(".tb-list__item");t.siblings().removeClass("tb-list__item_current"),t.addClass("tb-list__item_current"),t.parent().hasClass("tb-list__tk_templates")?i.replacePreview():i.renderPreview()}),c(document).on("click",".tb-preview__prev",function(e){e.preventDefault();let t=c(".tb-list__item_current"),a=c(".tb-list__item");if(!t.prev().length)return!1;let s=t.prev();a.removeClass("tb-list__item_current"),s.addClass("tb-list__item_current"),0<c(".tb-preview__sidebar-content").children(".tb-list__tk_templates").length?i.replacePreview():i.renderPreview()}),c(document).on("click",".tb-preview__next",function(e){e.preventDefault();let t=c(".tb-list__item_current"),a=c(".tb-list__item");if(!t.next().length)return!1;let s=t.next();a.removeClass("tb-list__item_current"),s.addClass("tb-list__item_current"),0<c(".tb-preview__sidebar-content").children(".tb-list__tk_templates").length?i.replacePreview():i.renderPreview()}),i.hideControls(),i.devicePreview(),i.hidePreview()}}class r{constructor(){this.state={archiveDownload:null,justOnce:!1}}setState(e){let a=this;c.each(e,function(e,t){a.state[e]=t})}buyPopup(e){c.ajax({type:"GET",url:"https://templateberg.com/wp-json/connect/v1/get_cart",data:{id:e}}).done(function(e){e&&(c("#tb-list__popup_loader").hide(),c("#tb-list__item_buy_popup").html(e))}).fail(function(e,t,a){console.log(e+" :: "+t+" :: "+a)}).always(function(){})}installAdvancedImport(t,a){jQuery.ajax({type:"POST",url:ajaxurl,data:{action:"templateberg_advanced_import",security:templateberg.nonce},success:function(e){e.success&&(templateberg.advancedImport.active?t.importThemeTemplate(t,a):(s("templateberg-theme-cat-type",c(".tb-list__links .tb-list__cat_btn.is-selected").data("type")),s("templateberg-theme-template-kit-id",a.data("id")),location.reload()))},error:function(e,t,a){console.log(a)}})}tbButtonStart=function(e){return!!e&&(!t&&(t=e,t.append('<span class="tb-update dashicons dashicons-update"></span>'),t.attr("disabled",!0),void t.closest(".ai-item").addClass("tb-action-importing")))};tbButtonEnd=function(){if(!t)return!1;if(c(".ai-confirm-import-content").length)return!1;if(t.next().length&&t.next().hasClass("ai-item")){if(t.next().find(".ai-update").length)return!1;t.next().remove()}t.children(".tb-update").remove(),t.attr("disabled",!1),t.closest(".ai-item").removeClass("tb-action-importing"),t=!1};noticeSetup(e){c(".tb-notice .tb-notice-info p").text(e.msg),c(".tb-notice .tb-event-sure").attr("href",e.upgrade),c("body").addClass("tb-notice-show"),c(".tb-notice").show()}importThemeTemplate(t,a){var e={id:a.data("id")};c.ajax({type:"GET",url:templateberg.restUrl+"templateberg/v1/import_theme_template",data:e,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",templateberg.restNonce)}}).done(function(e){e.code&&!e.import?t.noticeSetup(e):(a.after(e),a.next().find(".ai-demo-import").trigger("click"))}).fail(function(e,t,a){console.log("Error! Problem on your server. Refresh and try again!"),console.log(e+" :: "+t+" :: "+a)}).always(function(){setInterval(function(){t.tbButtonEnd()},3e3)})}run(){let i=this;var e;c(document).on("click",".tb-list__item_buy_btn",function(e){let t=c(this);var a=c(this).data("is_pro"),s=c(this).data("is_available");return"pro"===a&&"no"===s||(l("type")&&"selected"===l("type")&&l("theme")&&l("slug")?(c("body").addClass("tb-template-popup"),c("body").addClass("tb-template-popup-loading"),c("#tb-list__popup_loader").show(),c(".tb-modal__theme_install_link").text(t.attr("data-theme_name")),c(".tb-modal__theme_install_link").attr("href",c(".tb-modal__theme_install_link").attr("href")+t.attr("data-theme_slug")),setTimeout(function(){c("#tb-list__item_free_popup").show(),c("#tb-list__popup_loader").hide(),c("body").removeClass("tb-template-popup-loading")},300),!1):templateberg&&templateberg.account?(i.tbButtonStart(t),e.preventDefault(),void i.installAdvancedImport(i,c(this))):(c(".tb-theme-popup").show(),!1))}),l("templateberg-theme-template-kit-id")&&(e=l("templateberg-theme-cat-type"),c(".tb-list__links .tb-list__cat_btn[data-type='"+e+"']").length&&c(".tb-list__links .tb-list__cat_btn[data-type='"+e+"']").trigger("click"),setTimeout(function(){var e=l("templateberg-theme-template-kit-id");c(".tb-list__content .tb-list__item .tb-list__item_buy_btn[data-id='"+e+"']").length&&c(".tb-list__content .tb-list__item .tb-list__item_buy_btn[data-id='"+e+"']").trigger("click");const t=new URL(location);t.searchParams.delete("templateberg-theme-template-kit-id"),t.searchParams.delete("templateberg-theme-cat-type"),history.replaceState(null,null,t)},50)),c(document).on("click",".tb-modal__cancel",function(e){e.preventDefault(),c("body").addClass("tb-template-popup-loading"),c("body").removeClass("tb-template-popup"),c("#tb-list__popup_loader").hide(),c("#tb-list__item_buy_popup").html("").hide(),c("#tb-list__item_free_popup").hide(),setTimeout(function(){c("body").removeClass("tb-template-popup-loading")},3e3)}),c(document).on("click",".tb-theme-popup__close",function(e){c(".tb-theme-popup").hide()}),c(document).on("click",".tb-notice-close,.tb-event-may-be-later",function(e){c(".tb-notice").hide(),c("body").removeClass("tb-notice-show")})}}c(document).ready(function(){var e=new a;(new i).run(e),(new r).run()})}(jQuery);