!function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}([function(e,t,n){var a,r;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var r=typeof a;if("string"===r||"number"===r)e.push(a);else if(Array.isArray(a)&&a.length){var l=n.apply(null,a);l&&e.push(l)}else if("object"===r)for(var s in a)i.call(a,s)&&a[s]&&e.push(s)}}return e.join(" ")}var i={}.hasOwnProperty;"undefined"!==typeof e&&e.exports?(n.default=n,e.exports=n):(a=[],void 0!==(r=function(){return n}.apply(t,a))&&(e.exports=r))}()},function(e,t,n){"use strict";function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!Object(r.a)(n))throw TypeError("Stringified UUID is invalid");return n}for(var r=n(2),i=[],l=0;l<256;++l)i.push((l+256).toString(16).substr(1));t.a=a},function(e,t,n){"use strict";function a(e){return"string"===typeof e&&r.a.test(e)}var r=n(23);t.a=a},function(e,t,n){e.exports=n(20)},function(e,t,n){"use strict";var a=(n(22),n(24),n(26));n.d(t,"a",function(){return a.a});n(27),n(29),n(30),n(2),n(1),n(7)},function(e,t,n){"use strict";function a(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}t.a=a;var r,i=new Uint8Array(16)},function(e,t,n){"use strict";function a(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var r=n(1),i=n(7);t.a=function(e,t,n){function l(e,l,s,o){if("string"===typeof e&&(e=a(e)),"string"===typeof l&&(l=Object(i.a)(l)),16!==l.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+e.length);if(c.set(l),c.set(e,l.length),c=n(c),c[6]=15&c[6]|t,c[8]=63&c[8]|128,s){o=o||0;for(var p=0;p<16;++p)s[o+p]=c[p];return s}return Object(r.a)(c)}try{l.name=e}catch(e){}return l.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",l.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",l}},function(e,t,n){"use strict";function a(e){if(!Object(r.a)(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}var r=n(2);t.a=a},function(e,t,n){"use strict";function a(e){var t=[];return e.map(function(e,n){var r=e.name,i=e.attributes,l=e.innerBlocks;l.length>0&&(l=a(l)),t=t.concat([wp.blocks.createBlock(r,i,l)])}),t}function r(e){if(!e||!e.name||!e.attributes)return e;if(Array.isArray(e)){var t=[];return e.map(function(e,n){var r=e.name,i=e.attributes,l=e.innerBlocks;l&&l.length>0&&(l=a(l)),t=t.concat([wp.blocks.createBlock(r,i,l)])}),t}var n=e.name,r=e.attributes,i=e.innerBlocks;return i&&i.length>0&&(i=a(i)),wp.blocks.createBlock(n,r,i)}function i(e,t,n){void 0===e[t]&&(e[t]=[]),void 0===e[t][n]?e[t][n]=1:e[t][n]++,void 0===e[t].all?e[t].all=1:e[t].all++}function l(e,t,n){void 0===e[t]&&(e[t]=[]),void 0===e[t][n]?e[t][n]=1:e[t][n]++,void 0===e[t]["all-pro"]?e[t]["all-pro"]=1:e[t]["all-pro"]++}function s(e,t,n){void 0===e[t]&&(e[t]=[]),void 0===e[t][n]?e[t][n]=1:e[t][n]++,void 0===e[t]["all-free"]?e[t]["all-free"]=1:e[t]["all-free"]++}t.a=r,t.b=i,t.d=l,t.c=s;wp.i18n.__},function(e,t,n){"use strict";function a(e){var t=i(e);return wp.element.createElement(r,{blocks:t,__experimentalOnReady:function(e){e.scale,e.previewContainerRef,e.position}})}t.a=a;var r=wp.blockEditor.BlockPreview,i=wp.blocks.parse},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=n(0),s=n.n(l),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),__=wp.i18n.__,c=wp.element,p=c.Component,m=c.Fragment,u=wp.components,d=u.Button,b=u.Dashicon,f=u.Tooltip,h=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.props.data;return n.state={loading:!1},n.tbClose=n.tbClose.bind(n),n}return i(t,e),o(t,[{key:"tbClose",value:function(){var e=this.props.data;e.notice=!1,this.props.close(e)}},{key:"render",value:function(){var e=this,t=this.props.data,n=t.code&&!t.import&&99!==t.code,a=t.msg?t.msg:null,r=t.upgrade?t.upgrade:null;t.code&&t.code;return n?wp.element.createElement(m,null,wp.element.createElement("div",{className:s()("tb-notice",{"tb-notice-loading":this.state.loading})},wp.element.createElement("div",{className:"tb-notice-links"},wp.element.createElement("div",{className:"tb-notice-events"},wp.element.createElement("div",{className:"tb-notice-info"},wp.element.createElement("p",null,a)),999!==t.code&&wp.element.createElement(m,null,wp.element.createElement("div",{className:"tb-notice-events-btn"},wp.element.createElement("a",{className:"tb-event-sure",href:r,target:"_blank"},wp.element.createElement("span",{className:"dashicons dashicons-thumbs-up"}),__("Sure","templateberg")),wp.element.createElement(d,{className:"tb-event-may-be-later",onClick:function(){return e.tbClose()}},wp.element.createElement("span",{className:"dashicons dashicons-calendar"}),__("Maybe Later","templateberg"))),wp.element.createElement("div",{className:"tb-notice-events-btn"},wp.element.createElement("a",{className:"tb-event-purchase",href:"https://templateberg.com/dashboard/?action=purchases",target:"_blank"},wp.element.createElement("span",{className:"dashicons dashicons-admin-users"}),__("Purchases","templateberg")),wp.element.createElement("a",{className:"tb-event-support",href:"https://templateberg.com/dashboard/?action=support",target:"_blank"},wp.element.createElement("span",{className:"dashicons dashicons-editor-help"}),__("Contact Support","templateberg")))),999===t.code&&wp.element.createElement(m,null,wp.element.createElement("div",{className:"tb-notice-events-btn"},wp.element.createElement("a",{className:"tb-event-sure",href:templateberg.plugin_url,target:"_blank"},wp.element.createElement("span",{className:"dashicons dashicons-admin-plugins"}),__("Install Plugins","templateberg")),wp.element.createElement(d,{className:"tb-event-may-be-later",onClick:function(){return e.props.import(t)}},wp.element.createElement("span",{className:"dashicons dashicons-hidden"}),__("Ignore Plugins","templateberg"))))),wp.element.createElement(f,{text:__("Close","templateberg")},wp.element.createElement(d,{className:"tb-notice-close","aria-label":__("Close settings","templateberg"),onClick:function(){return e.tbClose()}},wp.element.createElement(b,{icon:"no-alt"})))))):""}}]),t}(p);t.a=h},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return b(d(e))}function s(e,t,n){if(e){t?t+=".json":t="block.json","object"===("undefined"===typeof e?"undefined":p(e))&&(e=1===n.count?JSON.stringify(e.shift(),void 0,4):JSON.stringify(e,void 0,4));var a=new Blob([e],{type:"text/json"}),r=document.createEvent("MouseEvents"),i=document.createElement("a");i.download=t,i.href=window.URL.createObjectURL(a),i.dataset.downloadurl=["text/json",i.download,i.href].join(":"),r.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(r)}}function o(){s(wp.data.select("core/block-editor").getBlocks(),"template",!1)}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},__=wp.i18n.__,m=wp.plugins.registerPlugin,u=wp.blocks,d=u.serialize,b=u.parse,f=wp.compose.compose,h=wp.data.withSelect,v=wp.element.Component,g=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.exportBlocks=e.exportBlocks.bind(e),e}return i(t,e),c(t,[{key:"exportBlocks",value:function(){s(l(1===this.props.count?this.props.block:this.props.blocks),1===this.props.count?this.props.block.name:"",this.props)}},{key:"render",value:function(){if(!wp.editPost)return"";var e=wp.editPost.PluginBlockSettingsMenuItem;return wp.element.createElement(e,{icon:"migrate",label:__("Export Block","templateberg"),onClick:this.exportBlocks})}}]),t}(v);m("templateberg-block-export",{render:f([h(function(e){var t=e("core/block-editor"),n=t.getSelectedBlockCount,a=t.getSelectedBlock,r=t.getMultiSelectedBlocks;return{count:n(),block:a(),blocks:r()}})])(g)}),t.a=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(13),n(18),n(11),n(34)},function(e,t,n){"use strict";var a=n(14),r=(n.n(a),n(15)),i=(n.n(r),n(16)),l=(n.n(i),n(17));n.n(l)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";function a(){var e=document.querySelector(".edit-post-header__toolbar");if(e||(console.log("hi"),e=document.querySelector(".edit-site-header__toolbar")),e){var t=document.createElement("div");t.classList.add("tb-import-button");var n='<button id="tb-advanced-import-button" class="components-button components-icon-button" title="'+__("Templateberg","templateberg")+'">';n+='<img src="'+templateberg.templatebergWhiteSvg+'" class="components-panel__icon" size="20" style="width: 20px; margin-right: 10px">',n+=""+__("Templateberg","templateberg"),n+="</button>",t.innerHTML=n,e.insertBefore(t,e.childNodes[0]),document.getElementById("tb-advanced-import-button").addEventListener("click",r)}}function r(){var e=wp.blocks.createBlock("templateberg/a1",{isImportOpen:!0});wp.data.dispatch("core/block-editor").insertBlocks(e)}var i=n(0),l=n.n(i),s=n(19),__=wp.i18n.__,o=wp.blocks.registerBlockType,c=wp.components,p=c.Tooltip,m=c.Button,u=c.Dashicon,d={blockID:{type:"string"},isImportOpen:{type:"boolean",default:!1}};o("templateberg/a1",{title:__("Templateberg","templateberg"),description:__("Advanced Import - Import Blocks and Templates Library","templateberg"),icon:wp.element.createElement("img",{src:templateberg.templateLibrarySvg}),category:"templateberg-modules",keywords:[__("Advanced Import Template Block Widget Section Patterns Reusable Library Tools","templateberg")],attributes:wp.hooks.applyFilters("templateberg_add_attributes",d),edit:function(e){var t=e.attributes,n=e.className,a=e.setAttributes,r=e.clientId,i=t.blockID,o=t.isImportOpen;i!==r&&a({blockID:r});var c=function(){a({isImportOpen:!1})};return wp.element.createElement("section",{id:"section-"+i,className:l()("tb-section","tb-advanced-import",n)},wp.element.createElement(p,{text:__("Open Templateberg Library","templateberg")},wp.element.createElement(m,{isPrimary:!0,isLarge:!0,className:"tb-template-library",onClick:function(){return a({isImportOpen:!0})}},wp.element.createElement(u,{icon:"category"}),__("Templateberg","templateberg")),o&&wp.element.createElement(s.a,{clientId:r,close:c})))},save:function(e){return null}});var b=!1,f=setInterval(function(){(document.querySelector(".edit-post-header__toolbar")||document.querySelector(".edit-site-navigation-toggle"))&&(a(),b=!0),b&&clearInterval(f)},500)},function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,i){try{var l=t[r](i),s=l.value}catch(e){return void n(e)}if(!l.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(3),c=n.n(o),p=n(0),m=n.n(p),u=n(4),d=n(31),b=n(32),f=(n.n(b),n(10)),h=n(8),v=n(9),g=n(33),w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_=lodash,k=_.startCase,E=_.toLower,__=wp.i18n.__,C=wp,S=C.apiFetch,N=wp.components,T=N.Button,P=N.Placeholder,x=N.Dashicon,O=N.TextControl,I=N.Tooltip,j=N.Modal,B=N.Notice,L=N.Spinner,A=wp.blocks.parse,R=wp.compose.compose,F=wp.data,M=F.withSelect,D=F.withDispatch,U=wp.element.Fragment,K=wp.element.Component,V=void 0,G=function(e){function t(){i(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.changeTab=e.changeTab.bind(e),e.fixTab=e.fixTab.bind(e),e.removeError=e.removeError.bind(e),e.removeMissing=e.removeMissing.bind(e),e.selectCategory=e.selectCategory.bind(e),e.selectFreeCategory=e.selectFreeCategory.bind(e),e.selectProCategory=e.selectProCategory.bind(e),e.changeSearch=e.changeSearch.bind(e),e.changeClientId=e.changeClientId.bind(e),e.validateBlocks=e.validateBlocks.bind(e),e.importTemplate=e.importTemplate.bind(e),e.importReusableBlock=e.importReusableBlock.bind(e),e.getFreeProTab=e.getFreeProTab.bind(e),e.getCategories=e.getCategories.bind(e),e.gotoTemplateKit=e.gotoTemplateKit.bind(e),e.setInterval=e.setInterval.bind(e),e.clearInterval=e.clearInterval.bind(e),e.renderConnectAccount=e.renderConnectAccount.bind(e),e.state={hasAccount:null,justOnce:!1,tab:"template-kit",isLoaded:!1,isRefresh:!1,isError:!1,isMissing:!1,isAllCatSelected:!1,isFreeCatSelected:!1,isProCatSelected:!1,selectedTab:"all",selectedCategory:"all",search:"",bCats:[],bFreeCats:[],bProCats:[],tCats:[],tFreeCats:[],tProCats:[],tkCats:[],tkFreeCats:[],tkProCats:[],tkSelected:null,tkSelectedItem:null,pCats:[],data:[],selectedTemplate:null,missingBlocks:[],countItems:[],countFreeItems:[],countProItems:[],tkCount:[],found_posts:100,max_pages:3,paged:1,gutentorMsg:!1,purchased_templates:null,purchased_template_kits:null,tBergNotice:{notice:!1}},e.uploadInput=React.createRef(),e.uploadImport=e.uploadImport.bind(e),e.refreshTemplateLibrary=e.refreshTemplateLibrary.bind(e),e.noticeSetup=e.noticeSetup.bind(e),e}return s(t,e),y(t,[{key:"templateFetch",value:function(){function e(){return t.apply(this,arguments)}var t=r(c.a.mark(function e(){var t,n,a,r,i,l,s,o,p,m,u,d,b,f,v,g,y,_,k,E,C,N,T,P,x=arguments.length>0&&void 0!==arguments[0]&&arguments[0],O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="templateberg/v1/get_templates?paged="+O,x&&(t="templateberg/v1/get_templates?reset=true&paged="+O),e.next=4,S({path:t});case 4:n=e.sent,n?"object"===("undefined"===typeof n?"undefined":w(n))?(a=[],r=[],i=[],l=[],s=[],o=[],p=[],m=[],u=[],d=[],b=[],f=[],v=[],g=[],y=[],_=n.templates,k=n.found_posts,E=n.max_pages,C=n.purchased_items,_?(_.map(function(e){var t=e.type;"widget"===t||"blocks"===t?t="block":"templates"===t?t="template":"my-purchase"===t?t="my-purchase":"template-kits"===t&&(t="template-kit"),void 0===y[t]&&(y[t]=[]),y[t].push(e),e.categories&&("template-kit"===t?(e.categories.map(function(n){e.is_pro?(u.push(n),Object(h.d)(v,t,n)):(m.push(n),Object(h.c)(f,t,n)),p.push(n),Object(h.b)(b,t,n)}),e.templates&&(g[e.id]=e.templates.length)):"template"===t?e.categories.map(function(n){e.is_pro?(o.push(n),Object(h.d)(v,t,n)):(s.push(n),Object(h.c)(f,t,n)),l.push(n),Object(h.b)(b,t,n)}):"block"===t?e.categories.map(function(n){e.is_pro?(i.push(n),Object(h.d)(v,t,n)):(r.push(n),Object(h.c)(f,t,n)),a.push(n),Object(h.b)(b,t,n)}):"pattern"===t&&e.categories.map(function(e){d.push(e),Object(h.b)(b,t,e)}))}),a=a.filter(function(e,t,n){return n.indexOf(e)===t}).sort(),r=r.filter(function(e,t,n){return n.indexOf(e)===t}).sort(),i=i.filter(function(e,t,n){return n.indexOf(e)===t}).sort(),l=l.filter(function(e,t,n){return n.indexOf(e)===t}).sort(),s=s.filter(function(e,t,n){return n.indexOf(e)===t}).sort(),o=o.filter(function(e,t,n){return n.indexOf(e)===t}).sort(),p=p.filter(function(e,t,n){return n.indexOf(e)===t}).sort(),m=m.filter(function(e,t,n){return n.indexOf(e)===t}).sort(),u=u.filter(function(e,t,n){return n.indexOf(e)===t}).sort(),d=d.filter(function(e,t,n){return n.indexOf(e)===t}).sort(),N=this.fixTab(y),T=this.purchasedTemplates(C),P=this.purchasedTemplateKits(C),this.setState({bCats:a,bFreeCats:r,bProCats:i,tCats:l,tFreeCats:s,tProCats:o,tkCats:p,tkFreeCats:m,tkProCats:u,pCats:d,data:y,isLoaded:!0,isRefresh:!1,countItems:b,countFreeItems:f,countProItems:v,tkCount:g,hasAccount:!0,tab:N,found_posts:k,max_pages:E,purchased_templates:T,purchased_template_kits:P})):this.setState({isLoaded:!0,isRefresh:!1,isError:!0,hasAccount:!0})):this.setState({isLoaded:!0,isRefresh:!1,isError:!0,hasAccount:!0}):this.setState({hasAccount:!1});case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"refreshTemplateLibrary",value:function(){var e=this;e.setState({bCats:[],bFreeCats:[],bProCats:[],tCats:[],tFreeCats:[],tProCats:[],tkCats:[],tkFreeCats:[],tkProCats:[],pCats:[],data:[],isLoaded:!1,isRefresh:!0}),e.templateFetch(!0)}},{key:"uploadImport",value:function(e){var t=this;this.setState({missingBlocks:[]});var n=e.current.files[0],a=new FileReader;a.onload=function(){var e=JSON.parse(a.result);t.validateBlocks(e)?t.setState({isMissing:!0}):t.props.import(e)},a.readAsText(n)}},{key:"componentDidMount",value:function(){this.templateFetch()}},{key:"componentWillUnmount",value:function(){this.clearInterval()}},{key:"changeTab",value:function(e){this.setState({tab:e,selectedCategory:"all",search:""})}},{key:"fixTab",value:function(e){var t=this.state.tab;return e[t]?t:e["template-kit"]?"template-kit":e.block?"block":e.template?"template":t}},{key:"purchasedTemplates",value:function(e){var t=[];if(e)for(var n=0;n<e.length;n++)"template-kits"===e[n].type||"template-kit"===e[n].type?e[n].templates.map(function(e){t.push(e)}):"templates"!==e[n].type&&"template"!==e[n].type||t.push(e[n]);return t}},{key:"purchasedTemplateKits",value:function(e){var t=[];if(e)for(var n=0;n<e.length;n++)"template-kits"!==e[n].type&&"template-kit"!==e[n].type||t.push(e[n]);return t}},{key:"isFreeItem",value:function(e){var t=!1;return e.is_pro||(t=!0),t}},{key:"isPurchasedTemplateKit",value:function(e){var t=!1;if(this.state.purchased_template_kits)for(var n=0;n<this.state.purchased_template_kits.length;n++)if(this.state.purchased_template_kits[n].id===e.id){t=!0;break}return t}},{key:"removeError",value:function(){this.setState({isError:!1})}},{key:"removeMissing",value:function(){this.setState({isMissing:!1})}},{key:"selectCategoryTab",value:function(e){this.setState({selectedTab:e,selectedCategory:e,isAllCatSelected:"all"===e,isFreeCatSelected:"all-free"===e,isProCatSelected:"all-pro"===e,isLoaded:!0})}},{key:"selectCategory",value:function(e){this.setState({selectedCategory:e,isAllCatSelected:!0,isProCatSelected:!1,isLoaded:!0})}},{key:"selectFreeCategory",value:function(e){this.setState({selectedCategory:e,isFreeCatSelected:!0,isAllCatSelected:!1,isProCatSelected:!1,isLoaded:!0})}},{key:"selectProCategory",value:function(e){this.setState({selectedCategory:e,isProCatSelected:!0,isFreeCatSelected:!1,isAllCatSelected:!1,isLoaded:!0})}},{key:"changeSearch",value:function(e){this.setState({search:e,isAllCatSelected:!0})}},{key:"changeClientId",value:function(e){var t=this;return Array.isArray(e)?e.map(function(e){return t.changeClientId(e)}):"object"===("undefined"===typeof e?"undefined":w(e))&&Object.keys(e).map(function(n){"clientId"===n&&(e[n]=Object(u.a)()),"innerBlocks"===n&&e[n].map(function(e){t.changeClientId(e)})}),e}},{key:"validateBlocks",value:function(e){var t=this,n=!1,a=[];return Array.isArray(e)?e.map(function(e){return t.validateBlocks(e)}):"object"===("undefined"===typeof e?"undefined":w(e))&&Object.keys(e).some(function(r){if("name"===r){void 0===t.props.availableBlocks.find(function(t){return t.name===e.name})&&(a.push(e.name),n=!0)}"innerBlocks"===r&&e[r].map(function(e){return t.validateBlocks(e)})}),a=this.state.missingBlocks.concat(a).filter(function(e,t,n){return n.indexOf(e)===t}),this.setState({missingBlocks:a}),!(a.length<1)}},{key:"noticeSetup",value:function(e){var t=this.state.tBergNotice;e.code&&!e.import?t.notice=!0:t.notice=!1,e.item?t.item=e.item:t.item=!1,t.msg=e.msg,t.code=e.code,t.upgrade=e.upgrade,this.setState({tBergNotice:t})}},{key:"importTemplate",value:function(){function e(e){return t.apply(this,arguments)}var t=r(c.a.mark(function e(t){var n,a,r,i,l,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({isLoaded:!1,missingBlocks:[]}),n="",s&&(n+="ignore_plugins=true&");for(a in t)"price_with_symbol"!==a&&t.hasOwnProperty(a)&&(n+="plugins"===a?a+"="+encodeURIComponent(JSON.stringify(t[a]))+"&":a+"="+t[a]+"&");return e.next=6,S({path:"templateberg/v1/get_template_data?"+n});case 6:r=e.sent,i="undefined"===typeof r?"undefined":w(r),this.noticeSetup(r),"object"===i?r.missing_plugins?(l="",r.missing_plugins.forEach(function(e,t){e.name&&(l+=" "+e.name,t<r.missing_plugins.length-1&&(l+=","))}),this.noticeSetup({code:999,import:!1,msg:__("Following Plugins Missing:","templateberg")+l,item:t})):(r.template_json&&(r=r.template_json),r=this.changeClientId(r),null!==r?(this.setState({isLoaded:!0}),this.validateBlocks(r)?this.setState({isMissing:!0}):this.props.import(r)):this.setState({isLoaded:!0,isError:!0})):this.setState({isLoaded:!0,isError:!0});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"getFreeProTab",value:function(){return[{label:__("All","templateberg"),value:"all"},{label:__("Free","templateberg"),value:"all-free"},{label:__("Pro","templateberg"),value:"all-pro"}]}},{key:"getCategories",value:function(){var e={},t=void 0;return"template-kit"===this.state.tab?t=this.state.tkCats:"template"===this.state.tab?t=this.state.tCats:"block"===this.state.tab?t=this.state.bCats:"pattern"===this.state.tab&&(t=this.state.pCats),!!t&&(!!(e=t.map(function(e){return e={label:k(E(e)),value:e}}))&&[{label:__("All","templateberg"),value:"all"}].concat(a(e)))}},{key:"getFreeCategories",value:function(){var e={},t=void 0;return"template-kit"===this.state.tab?t=this.state.tkFreeCats:"template"===this.state.tab?t=this.state.tFreeCats:"block"===this.state.tab?t=this.state.bFreeCats:"pattern"===this.state.tab&&(t=this.state.pCats),!!t&&(!!(e=t.map(function(e){return e={label:k(E(e)),value:e}}))&&[{label:__("All","templateberg"),value:"all-free"}].concat(a(e)))}},{key:"getProCategories",value:function(){var e={},t=void 0;return"template-kit"===this.state.tab?t=this.state.tkProCats:"template"===this.state.tab?t=this.state.tProCats:"block"===this.state.tab?t=this.state.bProCats:"pattern"===this.state.tab&&(t=this.state.pCats),!!t&&(!!(e=t.map(function(e){return e={label:k(E(e)),value:e}}))&&[{label:__("All","templateberg"),value:"all-pro"}].concat(a(e)))}},{key:"isTemplateAvailable",value:function(e){var t=!1;if(e.template_url)if(e.is_pro){if(this.state.purchased_templates)for(var n=0;n<this.state.purchased_templates.length;n++)if(parseInt(this.state.purchased_templates[n].id)===parseInt(e.id)){t=!0;break}}else t=!0;else t=!1;return t}},{key:"gotoTemplateKit",value:function(e){var t=this.state.data,n=void 0;n=e.id?e.id:e,t.tkSelected=[],e.templates?t.tkSelected=e.templates:(t.template.map(function(a){a.id===n&&(e=a),a.template_kit_id&&a.template_kit_id===n&&t.tkSelected.push(a)}),t["template-kit"].map(function(t){t.id===n&&(e=t)})),this.setState({data:t,tab:"tkSelected",tkSelected:n,tkSelectedItem:e,selectedCategory:"all"})}},{key:"templateButton",value:function(e){var t=this;return"template-kit"===this.state.tab?this.isFreeItem(e)||this.isPurchasedTemplateKit(e)?wp.element.createElement(T,{isPrimary:!0,isLarge:!0,className:"g-goto-tk",onClick:function(){t.gotoTemplateKit(e)},tabindex:"0"},__("Details","templateberg")):wp.element.createElement("a",{className:"g-tk-buynow",href:e.permalink,target:"_blank"},__("Buy Now","templateberg")):"reusable"===this.state.tab||"pattern"===this.state.tab||this.isTemplateAvailable(e)?wp.element.createElement(T,{isPrimary:!0,isLarge:!0,className:"tb-list__item-import",onClick:function(){return"reusable"===t.state.tab||"pattern"===t.state.tab?t.importReusableBlock(e.post_content):t.importTemplate(e)},tabindex:"0"},__("Insert","templateberg")):wp.element.createElement("a",{className:"tb-list__item-buy-link",href:e.permalink?e.permalink:"https://www.templateberg.com/pricing/",target:"_blank"},__("Buy Now","templateberg"))}},{key:"importReusableBlock",value:function(e){this.props.import(A(e))}},{key:"setInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=this;if(this.state.justOnce)return!1;var t=this;V=setInterval(r(c.a.mark(function n(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.templateFetch();case 1:case"end":return e.stop()}},n,e)})),2e3),this.setState({justOnce:!0})})},{key:"templatebergOnlyTabs",value:function(e){return!!["block","template","template-kit"].includes(e)}},{key:"clearInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){V&&clearInterval(V)})},{key:"renderLoading",value:function(){return wp.element.createElement("div",{className:"tb-advanced-import-content"},wp.element.createElement(I,{text:__("Close","templateberg")},wp.element.createElement(T,{className:"tb-advanced-import-modal-tabs-button","aria-label":__("Close settings","templateberg"),onClick:this.props.close},wp.element.createElement(x,{icon:"no-alt"}))),wp.element.createElement("div",{className:"tb-advanced-import-loader"},wp.element.createElement(L,null)))}},{key:"installGutentor",value:function(){if(templateberg.gutentor.active||this.state.gutentorMsg)return!1;var e=this;jQuery.ajax({type:"POST",url:ajaxurl,data:{action:"templateberg_gutentor",security:templateberg.nonce},success:function(t){e.setState({gutentorMsg:!0})},error:function(e,t,n){console.log(n)}})}},{key:"renderConnectAccount",value:function(){return wp.element.createElement(U,null,wp.element.createElement("div",{className:"tb-connect__notice tb-text__center"},wp.element.createElement("div",{className:"tb-advanced-import-modal-actions"},wp.element.createElement(I,{text:__("Close","templateberg")},wp.element.createElement(T,{className:"tb-advanced-import-modal-tabs-button","aria-label":__("Close settings","templateberg"),onClick:this.props.close},wp.element.createElement(x,{icon:"no-alt"})))),wp.element.createElement("div",{className:"tb-connect__icon"},wp.element.createElement("img",{src:templateberg.templatebergLogo,alt:"Templateberg"})),wp.element.createElement("h3",{className:"tb-connect__title"},__("Get access to hundreds of free templates by creating free account.","templateberg")),wp.element.createElement("p",{className:"tb-connect__desc"},__("Templateberg power you to create site quickly and easily. You don't have to spend hours trying to create a template and block design. With a click your favourite template design will import on your site and you can change text, image and customize it for your needs.","templateberg"),__("Clicking the button below will install and activate the Gutentor Plugin since most of the templates are built with it.","templateberg")),wp.element.createElement("a",{id:"tb-connect-btn",href:templateberg.connectUrl,onClick:this.installGutentor(),target:"_blank",className:"tb-btn tb-btn__primary tb-btn__lg"},__("Get Started With Templateberg","templateberg"))),this.setInterval())}},{key:"renderMissingError",value:function(){return wp.element.createElement("div",{className:"tb-advanced-import-error"},wp.element.createElement(B,{status:"warning",className:"tb-advanced-import-missing",onRemove:this.removeMissing},__("You seem to be missing some blocks that are required by your selected template.","templateberg"),wp.element.createElement("details",null,wp.element.createElement("summary",null,__("View Missing Blocks","templateberg")),wp.element.createElement("ul",null,this.state.missingBlocks.map(function(e){return wp.element.createElement("li",null,e)})))))}},{key:"renderTemplateImport",value:function(){var e=this,t=this.getFreeProTab(),n=this.getCategories(),a=this.getFreeCategories(),r=this.getProCategories(),i=this;return wp.element.createElement(U,null,wp.element.createElement("div",{className:"tb-modal-main"},wp.element.createElement("div",{className:"tb-advanced-import-modal-header"},wp.element.createElement("div",{className:"tb-advanced-import-modal-tabs"},wp.element.createElement(T,{className:m()("tb-advanced-import-modal-tabs-button",{"is-selected":"my-purchase"===this.state.tab}),onClick:function(){return e.changeTab("my-purchase")}},wp.element.createElement(x,{icon:"screenoptions"}),__("My Purchase","templateberg")),wp.element.createElement(T,{className:m()("tb-advanced-import-modal-tabs-button",{"is-selected":"template-kit"===this.state.tab},{"is-selected":"tkSelected"===this.state.tab}),onClick:function(){return e.changeTab("template-kit")}},wp.element.createElement(x,{icon:"format-gallery"}),__("Template Kits","templateberg")),wp.element.createElement(T,{className:m()("tb-advanced-import-modal-tabs-button",{"is-selected":"template"===this.state.tab}),onClick:function(){return e.changeTab("template")}},wp.element.createElement(x,{icon:"editor-table"}),__("Templates","templateberg")),wp.element.createElement(T,{className:m()("tb-advanced-import-modal-tabs-button",{"is-selected":"block"===this.state.tab}),onClick:function(){return e.changeTab("block")}},wp.element.createElement(x,{icon:"screenoptions"}),__("Blocks","templateberg")),wp.element.createElement(T,{className:m()("tb-advanced-import-modal-tabs-button",{"is-selected":"file"===this.state.tab}),onClick:function(){return e.changeTab("file")}},wp.element.createElement(x,{icon:"upload"}),__("File","templateberg"))),wp.element.createElement("div",{className:"tb-advanced-import-modal-actions"},wp.element.createElement(I,{text:__("Refresh","templateberg")},wp.element.createElement(T,{className:"tb-advanced-import-modal-tabs-button tb-advanced-import-modal-refresh-button","aria-label":__("Refresh Templates","templateberg"),onClick:function(){return e.refreshTemplateLibrary()}},wp.element.createElement(x,{icon:"image-rotate"}))),wp.element.createElement(I,{text:__("Close","templateberg")},wp.element.createElement(T,{className:"tb-advanced-import-modal-tabs-button","aria-label":__("Close settings","templateberg"),onClick:this.props.close},wp.element.createElement(x,{icon:"no-alt"}))))),"file"!==this.state.tab&&wp.element.createElement(U,null,"tkSelected"!==this.state.tab&&wp.element.createElement("div",{className:"tb-advanced-import-actions tb-advanced-import-sidebar"},wp.element.createElement(O,{type:"text",value:this.state.search||"",placeholder:__("Search","templateberg"),className:"tb-advanced-import-search-control",onChange:this.changeSearch}),n&&wp.element.createElement("div",{className:"tb-import-available-categories"},wp.element.createElement("h3",null,__("Categories","templateberg")),this.templatebergOnlyTabs(i.state.tab)&&wp.element.createElement("div",{className:"templateberg-import-categories-wrap"},wp.element.createElement("ul",{className:"tb-import-categories-wrap-tab"},t.map(function(e,t){return wp.element.createElement("li",{onClick:function(){return i.selectCategoryTab(e.value)},className:m()("templateberg-import-categories-tab-item",e.value===i.state.selectedTab?"tb-current-tab":"")},e.label)}))),wp.element.createElement("ul",{className:m()("tb-import-avail-categories-all-lists","all"===i.state.selectedTab?"tb-categories-list-active":"")},n.map(function(e,t){return wp.element.createElement("li",{onClick:function(){return i.selectCategory(e.value)},className:e.value===i.state.selectedCategory?"tb-current-item":""},e.label,wp.element.createElement("span",null,i.state.countItems&&i.state.countItems[i.state.tab]&&i.state.countItems[i.state.tab][e.value]&&i.state.countItems[i.state.tab][e.value]))})),wp.element.createElement("ul",{className:m()("tb-import-avail-categories-free-lists","all-free"===i.state.selectedTab?"tb-categories-list-active":"")},a.map(function(e,t){return wp.element.createElement("li",{onClick:function(){return i.selectFreeCategory(e.value)},className:e.value===i.state.selectedCategory?"tb-current-item":""},e.label,wp.element.createElement("span",null,i.state.countFreeItems&&i.state.countFreeItems[i.state.tab]&&i.state.countFreeItems[i.state.tab][e.value]&&i.state.countFreeItems[i.state.tab][e.value]))})),wp.element.createElement("ul",{className:m()("tb-import-avail-categories-pro-lists","all-pro"===i.state.selectedTab?"tb-categories-list-active":"")},r.map(function(e,t){return wp.element.createElement("li",{onClick:function(){return i.selectProCategory(e.value)},className:e.value===i.state.selectedCategory?"tb-current-item":""},e.label,wp.element.createElement("span",null,i.state.countProItems&&i.state.countProItems[i.state.tab]&&i.state.countProItems[i.state.tab][e.value]&&i.state.countProItems[i.state.tab][e.value]))})))),this.state.isLoaded?wp.element.createElement("div",{className:"tb-advanced-import-content"},this.state.gutentorMsg&&wp.element.createElement("p",{className:"tb-info__msg"},__("You need to refresh your editor before importing templates.","templateberg")),this.state.isError&&wp.element.createElement("div",{className:"tb-advanced-import-error"},wp.element.createElement(B,{status:"error",onRemove:this.removeError},__("There seems to be an error. Please try again.","templateberg"),__("Some error occurs while fetching library. Please read this documentation ","templateberg"),wp.element.createElement("a",{href:"https://www.templateberg.com/documentation/article/template-library-issues-and-troubleshooting/",target:"_blank"},__("Templateberg Issues and Troubleshooting","templateberg")))),this.state.isMissing&&this.renderMissingError(),"tkSelected"===this.state.tab&&wp.element.createElement("div",{className:"g-tk-info"},wp.element.createElement(T,{className:"g-tk-back",onClick:function(){return e.changeTab("template-kit")}},wp.element.createElement(x,{icon:"arrow-left-alt"}),__("Back to Template Kits","templateberg")),!this.isFreeItem(this.state.tkSelectedItem)&&!this.isPurchasedTemplateKit(this.state.tkSelectedItem)&&wp.element.createElement("a",{className:"g-tk-buynow",href:this.state.tkSelectedItem.permalink,target:"_blank"},wp.element.createElement(x,{icon:"screenoptions"}),__("Buy Template Kit","templateberg")),i.state.tkCount[i.state.tkSelected]&&wp.element.createElement("span",{className:"g-tk-count"},i.state.tkCount[i.state.tkSelected]+" "+__("Templates","templateberg")," ")),wp.element.createElement("div",{className:"tb-advanced-import-data"},wp.element.createElement("div",{className:"tb-advanced-import-content-wrapper",id:"g-a-i-content-wrapper"},this.state.tab&&"my-purchase"===this.state.tab&&wp.element.createElement(d.a,{clientId:this.props.clientId}),this.state.data[i.state.tab]&&this.state.data[i.state.tab].map(function(t){if(("all-pro"===e.state.selectedCategory||"all-free"===e.state.selectedCategory||"all"===e.state.selectedCategory||t.categories&&t.categories.includes(e.state.selectedCategory))&&(!e.state.search||t.keywords&&t.keywords.some(function(t){return t.toLowerCase().includes(e.state.search.toLowerCase())})))return e.state.isAllCatSelected||!e.state.isProCatSelected||t.is_pro?!e.state.isAllCatSelected&&e.state.isFreeCatSelected&&t.is_pro?"":wp.element.createElement("div",{"aria-label":t.title||__("Untitled","templateberg"),"data-id":t.id||null,"data-tk-id":"tkSelected"===e.state.tab?e.state.tkSelected:null,"data-type":"tkSelected"===e.state.tab?"template-kits":t.type||null,className:m()("tb-list__item",t.categories?t.categories.join(" "):"",t.is_pro?"tb-advanced-import-pro-item":"")},t.is_pro&&wp.element.createElement("span",{className:"tb-list__item-pro"},__("Pro","templateberg")),wp.element.createElement("div",{className:m()("tb-list__item-preview",t.post_content?"g-html-preview g-img-loaded":"")},t.post_content?Object(v.a)(t.post_content):wp.element.createElement("img",{src:t.screenshot_url||templateberg.dirUrl+"assets/img/default-image.jpg",loading:"lazy",onLoad:function(e){return e.target.parentNode.classList.add("g-img-loaded")}}),t.author&&wp.element.createElement("span",{className:"tb-list__item_author"},wp.element.createElement("span",{className:"dashicons dashicons-admin-users"}),__(" By ","templateberg")+t.author)),wp.element.createElement("div",{className:"tb-list__item-footer"},wp.element.createElement("div",{className:"tb-list__item-footer_meta"},t.title&&wp.element.createElement("h4",null,t.title," "),"template-kit"===e.state.tab&&i.state.tkCount[t.id]&&wp.element.createElement("span",{className:"g-tk-count"},i.state.tkCount[t.id]+" "+__("Templates","templateberg")," "),"template"===e.state.tab&&t.template_kit_id&&wp.element.createElement(T,{isPrimary:!0,isLarge:!0,className:"g-goto-tk",onClick:function(){e.gotoTemplateKit(t.template_kit_id)},tabindex:"0"},__("View Related Templates","templateberg")),"template-kit"===e.state.tab&&wp.element.createElement(T,{isPrimary:!0,isLarge:!0,className:"g-goto-tk",onClick:function(){e.gotoTemplateKit(t)},tabindex:"0"},__("View Templates","templateberg"))),wp.element.createElement("div",{className:"tb-list__item-footer-actions"},t.demo_url&&wp.element.createElement("a",{className:"tb-item__preview_link",href:t.demo_url.replace(/&#038;/g,"&"),target:"_blank",onClick:function(){"tkSelected"===e.state.tab?templateberg.itemCurrent=e.state.tkSelectedItem:templateberg.itemCurrent=t}},"reusable"!==e.state.tab?__("Preview","templateberg"):__("Edit","templateberg")),i.templateButton(t)))):""})),this.templatebergOnlyTabs(i.state.tab)&&this.state.max_pages>1&&wp.element.createElement(g.a,{paged:this.state.paged,max_num_pages:this.state.max_pages,setPage:function(t){e.state.paged!==t&&(e.setState({paged:t}),e.templateFetch(!1,t))}}))):wp.element.createElement("div",{className:"tb-advanced-import-content"},wp.element.createElement(I,{text:__("Close","templateberg")},wp.element.createElement(T,{className:"tb-advanced-import-modal-tabs-button","aria-label":__("Close settings","templateberg"),onClick:this.props.close},wp.element.createElement(x,{icon:"no-alt"}))),wp.element.createElement("div",{className:"tb-advanced-import-loader"},wp.element.createElement(L,null),this.state.isRefresh?__("Refreshing","templateberg"):__("Importing","templateberg")))),"file"===this.state.tab&&wp.element.createElement(U,null,this.state.isMissing&&this.renderMissingError(),wp.element.createElement(P,{label:__("Import Blocks from JSON","templateberg"),icon:"upload"},wp.element.createElement("span",null,wp.element.createElement("input",{type:"file",accept:"text/json",ref:this.uploadInput,className:"tb-advanced-import-inputfile",name:"file",id:"file"}),wp.element.createElement("label",{htmlFor:"file"},__("Choose File","templateberg"))),wp.element.createElement(T,{isPrimary:!0,onClick:function(){return e.uploadImport(e.uploadInput)}},__("Upload","templateberg")))),this.clearInterval()))}},{key:"render",value:function(){var e=this;return wp.element.createElement(j,{className:m()("tb-advanced-import-modal",{"tb-advanced-import-missing-modal":this.state.isMissing},{"tb-file-tab":"file"===this.state.tab},{"g-tk-tab":"tkSelected"===this.state.tab},{"tb-purchase-tab":"my-purchase"===this.state.tab},{"tb-notice-modal":!this.state.hasAccount&&null!==this.state.hasAccount}),onRequestClose:this.props.close,isDismissable:!1,shouldCloseOnClickOutside:!1},this.state.tBergNotice.notice&&wp.element.createElement(f.a,{data:this.state.tBergNotice,close:function(t){var n={tBergNotice:t};t.item&&(n.isLoaded=!0),e.setState(n)},import:function(t){e.importTemplate(t.item,!0)}}),null===this.state.hasAccount&&this.renderLoading(),this.state.hasAccount&&this.renderTemplateImport(),!this.state.hasAccount&&null!==this.state.hasAccount&&this.renderConnectAccount())}}]),t}(K);t.a=R(M(function(e,t){var n=t.clientId,a=e("core/block-editor"),r=a.getBlock,i=e("core/blocks"),l=i.getBlockTypes;return{block:r(n),availableBlocks:l()}}),D(function(e,t){var n=t.block;return{import:function(t){return e("core/block-editor").replaceBlocks(n.clientId,Object(h.a)(t))}}}))(G)},function(e,t,n){var a=function(){return this}()||Function("return this")(),r=a.regeneratorRuntime&&Object.getOwnPropertyNames(a).indexOf("regeneratorRuntime")>=0,i=r&&a.regeneratorRuntime;if(a.regeneratorRuntime=void 0,e.exports=n(21),r)a.regeneratorRuntime=i;else try{delete a.regeneratorRuntime}catch(e){a.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";function n(e,t,n,a){var i=t&&t.prototype instanceof r?t:r,l=Object.create(i.prototype),s=new d(a||[]);return l._invoke=c(e,n,s),l}function a(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function r(){}function i(){}function l(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function o(e){function t(n,r,i,l){var s=a(e[n],e,r);if("throw"!==s.type){var o=s.arg,c=o.value;return c&&"object"===typeof c&&g.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,l)},function(e){t("throw",e,i,l)}):Promise.resolve(c).then(function(e){o.value=e,i(o)},l)}l(s.arg)}function n(e,n){function a(){return new Promise(function(a,r){t(e,n,a,r)})}return r=r?r.then(a,a):a()}var r;this._invoke=n}function c(e,t,n){var r=S;return function(i,l){if(r===T)throw new Error("Generator is already running");if(r===P){if("throw"===i)throw l;return f()}for(n.method=i,n.arg=l;;){var s=n.delegate;if(s){var o=p(s,n);if(o){if(o===x)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===S)throw r=P,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=T;var c=a(e,t,n);if("normal"===c.type){if(r=n.done?P:N,c.arg===x)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=P,n.method="throw",n.arg=c.arg)}}}function p(e,t){var n=e.iterator[t.method];if(n===h){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=h,p(e,t),"throw"===t.method))return x;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return x}var r=a(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,x;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=h),t.delegate=null,x):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,x)}function m(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function u(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function d(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(m,this),this.reset(!0)}function b(e){if(e){var t=e[y];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(g.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=h,t.done=!0,t};return a.next=a}}return{next:f}}function f(){return{value:h,done:!0}}var h,v=Object.prototype,g=v.hasOwnProperty,w="function"===typeof Symbol?Symbol:{},y=w.iterator||"@@iterator",_=w.asyncIterator||"@@asyncIterator",k=w.toStringTag||"@@toStringTag",E="object"===typeof e,C=t.regeneratorRuntime;if(C)return void(E&&(e.exports=C));C=t.regeneratorRuntime=E?e.exports:{},C.wrap=n;var S="suspendedStart",N="suspendedYield",T="executing",P="completed",x={},O={};O[y]=function(){return this};var I=Object.getPrototypeOf,j=I&&I(I(b([])));j&&j!==v&&g.call(j,y)&&(O=j);var B=l.prototype=r.prototype=Object.create(O);i.prototype=B.constructor=l,l.constructor=i,l[k]=i.displayName="GeneratorFunction",C.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},C.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,k in e||(e[k]="GeneratorFunction")),e.prototype=Object.create(B),e},C.awrap=function(e){return{__await:e}},s(o.prototype),o.prototype[_]=function(){return this},C.AsyncIterator=o,C.async=function(e,t,a,r){var i=new o(n(e,t,a,r));return C.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},s(B),B[k]="Generator",B[y]=function(){return this},B.toString=function(){return"[object Generator]"},C.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},C.values=b,d.prototype={constructor:d,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(u),!e)for(var t in this)"t"===t.charAt(0)&&g.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=h)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,a){return i.type="throw",i.arg=e,n.next=t,a&&(n.method="next",n.arg=h),!!a}if(this.done)throw e;for(var n=this,a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],i=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var l=g.call(r,"catchLoc"),s=g.call(r,"finallyLoc");if(l&&s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&g.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,x):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),x},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),u(n),x}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;u(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:b(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=h),x}}}(function(){return this}()||Function("return this")())},function(e,t,n){"use strict";n(5),n(1)},function(e,t,n){"use strict";t.a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},function(e,t,n){"use strict";var a=n(6),r=n(25);Object(a.a)("v3",48,r.a)},function(e,t,n){"use strict";function a(e){if("string"===typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return r(l(s(e),8*e.length))}function r(e){for(var t=[],n=32*e.length,a="0123456789abcdef",r=0;r<n;r+=8){var i=e[r>>5]>>>r%32&255,l=parseInt(a.charAt(i>>>4&15)+a.charAt(15&i),16);t.push(l)}return t}function i(e){return 14+(e+64>>>9<<4)+1}function l(e,t){e[t>>5]|=128<<t%32,e[i(t)-1]=t;for(var n=1732584193,a=-271733879,r=-1732584194,l=271733878,s=0;s<e.length;s+=16){var c=n,p=a,f=r,h=l;n=m(n,a,r,l,e[s],7,-680876936),l=m(l,n,a,r,e[s+1],12,-389564586),r=m(r,l,n,a,e[s+2],17,606105819),a=m(a,r,l,n,e[s+3],22,-1044525330),n=m(n,a,r,l,e[s+4],7,-176418897),l=m(l,n,a,r,e[s+5],12,1200080426),r=m(r,l,n,a,e[s+6],17,-1473231341),a=m(a,r,l,n,e[s+7],22,-45705983),n=m(n,a,r,l,e[s+8],7,1770035416),l=m(l,n,a,r,e[s+9],12,-1958414417),r=m(r,l,n,a,e[s+10],17,-42063),a=m(a,r,l,n,e[s+11],22,-1990404162),n=m(n,a,r,l,e[s+12],7,1804603682),l=m(l,n,a,r,e[s+13],12,-40341101),r=m(r,l,n,a,e[s+14],17,-1502002290),a=m(a,r,l,n,e[s+15],22,1236535329),n=u(n,a,r,l,e[s+1],5,-165796510),l=u(l,n,a,r,e[s+6],9,-1069501632),r=u(r,l,n,a,e[s+11],14,643717713),a=u(a,r,l,n,e[s],20,-373897302),n=u(n,a,r,l,e[s+5],5,-701558691),l=u(l,n,a,r,e[s+10],9,38016083),r=u(r,l,n,a,e[s+15],14,-660478335),a=u(a,r,l,n,e[s+4],20,-405537848),n=u(n,a,r,l,e[s+9],5,568446438),l=u(l,n,a,r,e[s+14],9,-1019803690),r=u(r,l,n,a,e[s+3],14,-187363961),a=u(a,r,l,n,e[s+8],20,1163531501),n=u(n,a,r,l,e[s+13],5,-1444681467),l=u(l,n,a,r,e[s+2],9,-51403784),r=u(r,l,n,a,e[s+7],14,1735328473),a=u(a,r,l,n,e[s+12],20,-1926607734),n=d(n,a,r,l,e[s+5],4,-378558),l=d(l,n,a,r,e[s+8],11,-2022574463),r=d(r,l,n,a,e[s+11],16,1839030562),a=d(a,r,l,n,e[s+14],23,-35309556),n=d(n,a,r,l,e[s+1],4,-1530992060),l=d(l,n,a,r,e[s+4],11,1272893353),r=d(r,l,n,a,e[s+7],16,-155497632),a=d(a,r,l,n,e[s+10],23,-1094730640),n=d(n,a,r,l,e[s+13],4,681279174),l=d(l,n,a,r,e[s],11,-358537222),r=d(r,l,n,a,e[s+3],16,-722521979),a=d(a,r,l,n,e[s+6],23,76029189),n=d(n,a,r,l,e[s+9],4,-640364487),l=d(l,n,a,r,e[s+12],11,-421815835),r=d(r,l,n,a,e[s+15],16,530742520),a=d(a,r,l,n,e[s+2],23,-995338651),n=b(n,a,r,l,e[s],6,-198630844),l=b(l,n,a,r,e[s+7],10,1126891415),r=b(r,l,n,a,e[s+14],15,-1416354905),a=b(a,r,l,n,e[s+5],21,-57434055),n=b(n,a,r,l,e[s+12],6,1700485571),l=b(l,n,a,r,e[s+3],10,-1894986606),r=b(r,l,n,a,e[s+10],15,-1051523),a=b(a,r,l,n,e[s+1],21,-2054922799),n=b(n,a,r,l,e[s+8],6,1873313359),l=b(l,n,a,r,e[s+15],10,-30611744),r=b(r,l,n,a,e[s+6],15,-1560198380),a=b(a,r,l,n,e[s+13],21,1309151649),n=b(n,a,r,l,e[s+4],6,-145523070),l=b(l,n,a,r,e[s+11],10,-1120210379),r=b(r,l,n,a,e[s+2],15,718787259),a=b(a,r,l,n,e[s+9],21,-343485551),n=o(n,c),a=o(a,p),r=o(r,f),l=o(l,h)}return[n,a,r,l]}function s(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(i(t)),a=0;a<t;a+=8)n[a>>5]|=(255&e[a/8])<<a%32;return n}function o(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function c(e,t){return e<<t|e>>>32-t}function p(e,t,n,a,r,i){return o(c(o(o(t,e),o(a,i)),r),n)}function m(e,t,n,a,r,i,l){return p(t&n|~t&a,e,t,r,i,l)}function u(e,t,n,a,r,i,l){return p(t&a|n&~a,e,t,r,i,l)}function d(e,t,n,a,r,i,l){return p(t^n^a,e,t,r,i,l)}function b(e,t,n,a,r,i,l){return p(n^(t|~a),e,t,r,i,l)}t.a=a},function(e,t,n){"use strict";function a(e,t,n){e=e||{};var a=e.random||(e.rng||r.a)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(var l=0;l<16;++l)t[n+l]=a[l];return t}return Object(i.a)(a)}var r=n(5),i=n(1);t.a=a},function(e,t,n){"use strict";var a=n(6),r=n(28);Object(a.a)("v5",80,r.a)},function(e,t,n){"use strict";function a(e,t,n,a){switch(e){case 0:return t&n^~t&a;case 1:return t^n^a;case 2:return t&n^t&a^n&a;case 3:return t^n^a}}function r(e,t){return e<<t|e>>>32-t}function i(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){var i=unescape(encodeURIComponent(e));e=[];for(var l=0;l<i.length;++l)e.push(i.charCodeAt(l))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=e.length/4+2,o=Math.ceil(s/16),c=new Array(o),p=0;p<o;++p){for(var m=new Uint32Array(16),u=0;u<16;++u)m[u]=e[64*p+4*u]<<24|e[64*p+4*u+1]<<16|e[64*p+4*u+2]<<8|e[64*p+4*u+3];c[p]=m}c[o-1][14]=8*(e.length-1)/Math.pow(2,32),c[o-1][14]=Math.floor(c[o-1][14]),c[o-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<o;++d){for(var b=new Uint32Array(80),f=0;f<16;++f)b[f]=c[d][f];for(var h=16;h<80;++h)b[h]=r(b[h-3]^b[h-8]^b[h-14]^b[h-16],1);for(var v=n[0],g=n[1],w=n[2],y=n[3],_=n[4],k=0;k<80;++k){var E=Math.floor(k/20),C=r(v,5)+a(E,g,w,y)+_+t[E]+b[k]>>>0;_=y,y=w,w=r(g,30)>>>0,g=v,v=C}n[0]=n[0]+v>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+w>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+_>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}t.a=i},function(e,t,n){"use strict"},function(e,t,n){"use strict";n(2)},function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,i){try{var l=t[r](i),s=l.value}catch(e){return void n(e)}if(!l.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),o=n.n(s),c=n(0),p=n.n(c),m=n(4),u=n(8),d=n(9),b=n(10),f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),__=wp.i18n.__,v=wp,g=v.apiFetch,w=wp.components,y=w.Button,_=w.Dashicon,k=w.Tooltip,E=w.Notice,C=w.Spinner,S=wp.compose.compose,N=wp.data,T=N.withSelect,P=N.withDispatch,x=wp.element.Fragment,O=wp.element.Component,I=void 0,j=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.changeTab=e.changeTab.bind(e),e.removeError=e.removeError.bind(e),e.removeMissing=e.removeMissing.bind(e),e.changeClientId=e.changeClientId.bind(e),e.validateBlocks=e.validateBlocks.bind(e),e.importTemplate=e.importTemplate.bind(e),e.gotoTemplateKit=e.gotoTemplateKit.bind(e),e.setInterval=e.setInterval.bind(e),e.clearInterval=e.clearInterval.bind(e),e.state={hasPurchased:null,justOnce:!1,tab:"template-kit",isLoaded:!1,isRefresh:!1,isError:!1,isApiResultError:!1,isMissing:!1,bCats:[],tCats:[],tkCats:[],tkSelected:null,tkSelectedItem:null,pCats:[],data:[],selectedTemplate:null,missingBlocks:[],countItems:[],tkCount:[],tBergNotice:{notice:!1}},e.refreshTemplateLibrary=e.refreshTemplateLibrary.bind(e),e.noticeSetup=e.noticeSetup.bind(e),e}return l(t,e),h(t,[{key:"templateFetch",value:function(){function e(){return t.apply(this,arguments)}var t=a(o.a.mark(function e(){var t,n,a,r,i,l,s,c,p,m,u=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="templateberg/v1/purchase_templates",u&&(t="templateberg/v1/purchase_templates?reset=true"),e.next=4,g({path:t});case 4:n=e.sent,n?Array.isArray(n)&&n.length?(a=function(e,t){void 0===c[e]&&(c[e]=[]),void 0===c[e][t]?c[e][t]=1:c[e][t]++,void 0===c[e].all?c[e].all=1:c[e].all++},r=[],i=[],l=[],s=[],c=[],p=[],m=[],n.map(function(e){var t=e.type;"widget"===t||"blocks"===t?t="block":"templates"===t?t="template":"template-kits"===t&&(t="template-kit"),void 0===m[t]&&(m[t]=[]),m[t].push(e),e.categories&&("block"===t?e.categories.map(function(e){r.push(e),a(t,e)}):"template"===t?e.categories.map(function(e){i.push(e),a(t,e)}):"template-kit"===t&&(e.categories.map(function(e){l.push(e),a(t,e)}),e.templates&&(p[e.id]=e.templates.length)))}),r=r.filter(function(e,t,n){return n.indexOf(e)===t}).sort(),i=i.filter(function(e,t,n){return n.indexOf(e)===t}).sort(),l=l.filter(function(e,t,n){return n.indexOf(e)===t}).sort(),s=s.filter(function(e,t,n){return n.indexOf(e)===t}).sort(),this.setState({bCats:r,tCats:i,tkCats:l,pCats:s,data:m,isLoaded:!0,isRefresh:!1,countItems:c,tkCount:p,hasPurchased:!0,isApiResultError:!1,isError:!1})):this.setState({isLoaded:!0,isRefresh:!1,isError:!0,isApiResultError:!0,hasPurchased:!1}):this.setState({isLoaded:!0,isRefresh:!1,isError:!1,isApiResultError:!1,hasPurchased:!1});case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"refreshTemplateLibrary",value:function(){function e(){return t.apply(this,arguments)}var t=a(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,t.setState({bCats:[],tCats:[],tkCats:[],pCats:[],data:[],isRefresh:!0,isLoaded:!1}),e.next=4,t.templateFetch(!0);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"componentDidMount",value:function(){this.templateFetch()}},{key:"componentWillUnmount",value:function(){this.clearInterval()}},{key:"changeTab",value:function(e){this.setState({tab:e})}},{key:"removeError",value:function(){this.setState({isError:!1})}},{key:"removeMissing",value:function(){this.setState({isMissing:!1})}},{key:"changeClientId",value:function(e){var t=this;return Array.isArray(e)?e.map(function(e){return t.changeClientId(e)}):"object"===("undefined"===typeof e?"undefined":f(e))&&Object.keys(e).map(function(n){"clientId"===n&&(e[n]=Object(m.a)()),"innerBlocks"===n&&e[n].map(function(e){t.changeClientId(e)})}),e}},{key:"validateBlocks",value:function(e){var t=this,n=!1,a=[];return Array.isArray(e)?e.map(function(e){return t.validateBlocks(e)}):"object"===("undefined"===typeof e?"undefined":f(e))&&Object.keys(e).some(function(r){if("name"===r){void 0===t.props.availableBlocks.find(function(t){return t.name===e.name})&&(a.push(e.name),n=!0)}"innerBlocks"===r&&e[r].map(function(e){return t.validateBlocks(e)})}),a=this.state.missingBlocks.concat(a).filter(function(e,t,n){return n.indexOf(e)===t}),this.setState({missingBlocks:a}),n}},{key:"noticeSetup",value:function(e){var t=this.state.tBergNotice;e.code&&!e.import?t.notice=!0:t.notice=!1,e.item?t.item=e.item:t.item=!1,t.msg=e.msg,t.code=e.code,t.upgrade=e.upgrade,this.setState({tBergNotice:t})}},{key:"importTemplate",value:function(){function e(e){return t.apply(this,arguments)}var t=a(o.a.mark(function e(t){var n,a,r,i,l,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({isLoaded:!1,missingBlocks:[]}),n="",s&&(n+="ignore_plugins=true&");for(a in t)"price_with_symbol"!==a&&t.hasOwnProperty(a)&&(n+="plugins"===a?a+"="+encodeURIComponent(JSON.stringify(t[a]))+"&":a+"="+t[a]+"&");return e.next=6,g({path:"templateberg/v1/get_template_data?"+n});case 6:r=e.sent,i="undefined"===typeof r?"undefined":f(r),this.noticeSetup(r),"object"===i?r.missing_plugins?(l="",r.missing_plugins.forEach(function(e,t){e.name&&(l+=" "+e.name,t<r.missing_plugins.length-1&&(l+=","))}),this.noticeSetup({code:999,import:!1,msg:__("Following Plugins Missing:","templateberg")+l,item:t})):(r.code&&r.template_json&&(r=r.template_json),r=this.changeClientId(r),null!==r?(this.setState({isLoaded:!0}),this.validateBlocks(r)?this.setState({isMissing:!0}):this.props.import(r)):this.setState({isLoaded:!0,isError:!0})):this.setState({isLoaded:!0,isError:!0});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"isTemplateAvailable",value:function(e){var t=!1;return e.template_url?e.is_pro||(t=!0):t=!1,t}},{key:"gotoTemplateKit",value:function(e){var t=this.state.data,n=void 0;n=e.id?e.id:e,t.tkSelected=[],e.templates?t.tkSelected=e.templates:t["template-kit"].map(function(a){a.id===n&&(e=a,t.tkSelected=e.templates)}),this.setState({data:t,tab:"tkSelected",tkSelected:n,tkSelectedItem:e,selectedCategory:"all"})}},{key:"templateButton",value:function(e){var t=this;return"template-kit"===this.state.tab?wp.element.createElement(y,{isPrimary:!0,isLarge:!0,className:"g-goto-tk",onClick:function(){t.gotoTemplateKit(e)},tabindex:"0"},__("View Templates","templateberg")):wp.element.createElement(y,{isPrimary:!0,isLarge:!0,className:"tb-list__item-import",onClick:function(){return t.importTemplate(e)},tabindex:"0"},__("Insert","templateberg"))}},{key:"purchaseTemplateButton",value:function(){if(this.state.isApiResultError)return wp.element.createElement("div",{className:"tb-my-purchase-template"},wp.element.createElement("span",null,__("You did not purchase any template from templateburg. Please go through the given link to purchase templates from templateburg.","templateberg"),wp.element.createElement("a",{className:"tb-my-purchase-template-buy-link",href:"https://templateberg.com/gutenberg-templates/",target:"_blank"},__("Purchase Templates","templateberg"))))}},{key:"setInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=this;if(this.state.justOnce)return!1;var t=this;I=setInterval(a(o.a.mark(function n(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.templateFetch();case 1:case"end":return e.stop()}},n,e)})),2e3),this.setState({justOnce:!0})})},{key:"clearInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){I&&clearInterval(I)})},{key:"renderLoading",value:function(){return wp.element.createElement("div",{className:"tb-ai-pro-content"},wp.element.createElement("div",{className:"tb-advanced-import-loader"},wp.element.createElement(C,null)))}},{key:"renderTemplateImport",value:function(){var e=this,t=this;return wp.element.createElement(x,null,wp.element.createElement("div",{className:"tb-modal-purchase-main"},!this.state.isApiResultError&&wp.element.createElement("div",{className:"tb-my-purchase-adv-import-modal-header"},wp.element.createElement("div",{className:"tb-advanced-import-modal-tabs"},this.state.data["template-kit"]&&wp.element.createElement(y,{className:p()("tb-advanced-import-modal-tabs-button",{"is-selected":"template-kit"===this.state.tab},{"is-selected":"tkSelected"===this.state.tab}),onClick:function(){return e.changeTab("template-kit")}},wp.element.createElement(_,{icon:"format-gallery"}),__("Template Kits","templateberg")),this.state.data.template&&wp.element.createElement(y,{className:p()("tb-advanced-import-modal-tabs-button",{"is-selected":"template"===this.state.tab}),onClick:function(){return e.changeTab("template")}},wp.element.createElement(_,{icon:"editor-table"}),__("Templates","templateberg")),this.state.data.block&&wp.element.createElement(y,{className:p()("tb-advanced-import-modal-tabs-button",{"is-selected":"block"===this.state.tab}),onClick:function(){return e.changeTab("block")}},wp.element.createElement(_,{icon:"screenoptions"}),__("Blocks","templateberg"))),wp.element.createElement("div",{className:"tb-advanced-import-modal-actions"},wp.element.createElement(k,{text:__("Refresh","templateberg")},wp.element.createElement(y,{className:"tb-advanced-import-modal-tabs-button tb-advanced-import-modal-refresh-button","aria-label":__("Refresh Templates","templateberg"),onClick:function(){return e.refreshTemplateLibrary()}},wp.element.createElement(_,{icon:"image-rotate"}))))),"file"!==this.state.tab&&!this.state.isApiResultError&&wp.element.createElement(x,null,this.state.isLoaded?wp.element.createElement("div",{className:"tb-ai-pro-content"},this.state.isError&&wp.element.createElement("div",{className:"tb-advanced-import-error"},wp.element.createElement(E,{status:"error",onRemove:this.removeError},__("There seems to be an error. Please try again.","templateberg"),__("Some error occurs while fetching library. Please read this documentation ","templateberg"),wp.element.createElement("a",{href:"https://www.templateberg.com/documentation/article/template-library-issues-and-troubleshooting/",target:"_blank"},__("Templateberg Issues and Troubleshooting","templateberg")))),this.state.isMissing&&wp.element.createElement("div",{className:"tb-advanced-import-error"},wp.element.createElement(E,{status:"warning",className:"tb-advanced-import-missing",onRemove:this.removeMissing},__("You seem to be missing some blocks that are required by your selected template.","templateberg"),wp.element.createElement("details",null,wp.element.createElement("summary",null,__("View Missing Blocks","templateberg")),wp.element.createElement("ul",null,this.state.missingBlocks.map(function(e){return wp.element.createElement("li",null,e)}))))),"tkSelected"===this.state.tab&&wp.element.createElement("div",{className:"g-tk-info"},wp.element.createElement(y,{className:"g-tk-back",onClick:function(){return e.changeTab("template-kit")}},wp.element.createElement(_,{icon:"arrow-left-alt"}),__("Back to Template Kits","templateberg")),t.state.tkCount[t.state.tkSelected]&&wp.element.createElement("span",{className:"g-tk-count"},t.state.tkCount[t.state.tkSelected]+" "+__("Templates","templateberg")," ")),wp.element.createElement("div",{className:"tb-ai-pro-content-wrapper",id:"tb-ai-pro-content-wrapper"},this.state.data[t.state.tab]&&this.state.data[t.state.tab].map(function(n){return wp.element.createElement("div",{"aria-label":n.title||__("Untitled","templateberg"),"data-id":n.id||null,"data-tk-id":"tkSelected"===e.state.tab?e.state.tkSelected:null,"data-type":"tkSelected"===e.state.tab?"template-kits":n.type||null,className:p()("tb-list__item",n.categories?n.categories.join(" "):"",n.is_pro?"tb-advanced-import-pro-item":"")},n.is_pro&&wp.element.createElement("span",{className:"tb-list__item-pro"},__("Pro","templateberg")),wp.element.createElement("div",{className:p()("tb-list__item-preview",n.post_content?"g-html-preview g-img-loaded":"")},n.post_content?Object(d.a)(n.post_content):wp.element.createElement("img",{src:n.screenshot_url||templateberg.dirUrl+"assets/img/default-image.jpg",loading:"lazy",onLoad:function(e){return e.target.parentNode.classList.add("g-img-loaded")}}),n.author&&wp.element.createElement("span",{className:"tb-list__item_author"},wp.element.createElement("span",{className:"dashicons dashicons-admin-users"}),__(" By ","templateberg")+n.author)),wp.element.createElement("div",{className:"tb-list__item-footer"},wp.element.createElement("div",{className:"tb-list__item-footer_meta"},n.title&&wp.element.createElement("h4",null,n.title," "),"template-kit"===e.state.tab&&t.state.tkCount[n.id]&&wp.element.createElement("span",{className:"g-tk-count"},t.state.tkCount[n.id]+" "+__("Templates","templateberg")," "),"template"===e.state.tab&&n.template_kit_id&&wp.element.createElement(y,{isPrimary:!0,isLarge:!0,className:"g-goto-tk",onClick:function(){e.gotoTemplateKit(n.template_kit_id)},tabindex:"0"},__("View Related Templates","templateberg"))),wp.element.createElement("div",{className:"tb-list__item-footer-actions"},n.demo_url&&wp.element.createElement("a",{className:"tb-item__preview_link",href:n.demo_url.replace(/&#038;/g,"&"),target:"_blank",onClick:function(){"tkSelected"===e.state.tab?templateberg.itemCurrent=e.state.tkSelectedItem:templateberg.itemCurrent=n}},__("Preview","templateberg")),t.templateButton(n))))}))):wp.element.createElement("div",{className:"tb-ai-pro-content tb-pro-loading"},wp.element.createElement("div",{className:"tb-advanced-import-loader"},wp.element.createElement(C,null),this.state.isRefresh?__("Refreshing","templateberg"):__("Importing","templateberg")))),this.state.isApiResultError&&this.purchaseTemplateButton(),this.clearInterval()))}},{key:"renderNoPayment",value:function(){var e=this;return wp.element.createElement(x,null,this.state.isLoaded?wp.element.createElement("div",{className:"tb-my-purchase__content-no-item"},wp.element.createElement("div",{className:"tb-advanced-import-modal-actions"},wp.element.createElement(k,{text:__("Refresh","templateberg")},wp.element.createElement(y,{className:"tb-advanced-import-modal-tabs-button tb-advanced-import-modal-refresh-button","aria-label":__("Refresh Templates","templateberg"),onClick:function(){return e.refreshTemplateLibrary()}},wp.element.createElement(_,{icon:"image-rotate"})))),__("No payment information found.","templateberg")):"")}},{key:"render",value:function(){var e=this;return wp.element.createElement(x,null,this.state.tBergNotice.notice&&wp.element.createElement(b.a,{data:this.state.tBergNotice,close:function(t){var n={tBergNotice:t};t.item&&(n.isLoaded=!0),e.setState(n)},import:function(t){e.importTemplate(t.item,!0)}}),null===this.state.hasPurchased&&this.renderLoading(),this.state.hasPurchased?this.renderTemplateImport():this.renderNoPayment())}}]),t}(O);t.a=S(T(function(e,t){var n=t.clientId,a=e("core/block-editor"),r=a.getBlock,i=e("core/blocks"),l=i.getBlockTypes;return{block:r(n),availableBlocks:l()}}),P(function(e,t){var n=t.block;return{import:function(t){return e("core/block-editor").replaceBlocks(n.clientId,Object(u.a)(t))}}}))(j)},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),__=wp.i18n.__;!function(e){var t=function(){function t(){n(this,t),this.state={addedHtml:null}}return a(t,[{key:"setState",value:function(t){var n=this;e.each(t,function(e,t){n.state[e]=t})}},{key:"hasPrevItem",value:function(){return!!e(".tb-list__item_current").prev().length}},{key:"hasNextItem",value:function(){return!!e(".tb-list__item_current").next().length}},{key:"showHidePrevNext",value:function(){this.hasNextItem()?e(".tb-preview__next").removeClass("tb-list__page-disabled"):e(".tb-preview__next").addClass("tb-list__page-disabled"),this.hasPrevItem()?e(".tb-preview__prev").removeClass("tb-list__page-disabled"):e(".tb-preview__prev").addClass("tb-list__page-disabled")}},{key:"hideControls",value:function(){e(document).on("click",".tb-preview__collapse-btn",function(t){t.preventDefault(),e(".tb-preview__wrapper").toggleClass("tb-preview__sidebar-hide")})}},{key:"devicePreview",value:function(){e(document).on("click",".tb-preview__desktop",function(t){t.preventDefault(),e(".tb-preview__wrapper").removeClass("tb-preview-t tb-preview-m"),e(this).addClass("active").siblings().removeClass("active")}),e(document).on("click",".tb-preview__tablet",function(t){t.preventDefault(),e(".tb-preview__wrapper").removeClass("tb-preview-t tb-preview-m").addClass("tb-preview-t"),e(this).addClass("active").siblings().removeClass("active")}),e(document).on("click",".tb-preview__mobile",function(t){t.preventDefault(),e(".tb-preview__wrapper").removeClass("tb-preview-t tb-preview-m").addClass("tb-preview-m"),e(this).addClass("active").siblings().removeClass("active")})}},{key:"hidePreview",value:function(){e(document).on("click",".tb-preview__close",function(t){t.preventDefault(),e("body").removeClass("tb-preview"),e("#tb-list__item_preview").hide(),e(".tb-list__tk_templates").remove()})}},{key:"renderItem",value:function(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments[4],l="";if(i||0!==r){if(a===t.id){l="tb-list__item_current";var s=e(".tb-list__item");s.removeClass("tb-list__item_current")}}else{l="tb-list__item_current";e(".tb-list__item").removeClass("tb-list__item_current")}var o='<div aria-label="'+t.title+'" class="tb-list__item '+l+'" data-id="'+t.id+'" data-type="'+t.type+'">';return o+='<div class="tb-list__item_preview tb-list__img_loaded">',o=o+'<img src="'+t.screenshot_url+'" loading="lazy">',o+="</div>",o+='<div class="tb-list__item_footer">',o=o+'<div class="tb-list__item_meta"><h4>'+t.title+"</h4></a></div>",o+='<div class="tb-list__item_actions">',o=o+'<a class="tb-item__preview_link" href="'+t.demo_url+'" target="_blank">'+__("Preview","templateberg")+"</a>",o+="</div>",o+="</div>",o+="</div>"}},{key:"renderTKTemplates",value:function(t,n){var a=this;setTimeout(function(){var r=templateberg.itemCurrent,i=null;if(r&&r.templates&&r.templates.length){var l="";r.templates.forEach(function(e,r){var s=a.renderItem(e,a,t,r,n);l+=s,0===r&&(i=e.demo_url)}),n||a.renderDemo(i);var s=e("#tb-list__item_preview");l='<div class="tb-list__tk_templates">'+l+"</div>",s.find(".tb-preview__author").after(l)}},3)}},{key:"renderDemo",value:function(t){var n=e("#tb-list__item_preview");document.getElementById("tb-preview__frame").src=t,n.show(),this.showHidePrevNext(),setTimeout(function(){n.removeClass("tb-item__preview_loading")},3e3)}},{key:"renderPreview",value:function(){var t=e(".tb-list__item_current"),n=t.data("id"),a=t.data("tk-id"),r=t.data("type"),i=t.find("img").attr("src"),l=t.find("h4").text(),s=t.find(".tb-list__item_title_link").attr("href"),o=t.find(".tb-list__item_author").html(),c=t.find(".tb-item__preview_link").attr("href"),p=e("#tb-list__item_preview");p.addClass("tb-item__preview_loading"),p.find(".tb-list__item_buy_btn").remove(),p.find(".tb-list__item").remove(),p.find("h4").text(l),p.find("img").attr("src",i),p.find(".tb-list__item_title_link").attr("href",s),p.find(".tb-preview__author").html(o),t.find(".tb-list__item_buy_btn").clone().insertAfter(p.find(".tb-preview__author")),e("body").addClass("tb-preview"),"template-kit"!==r&&"template-kits"!==r||this.renderTKTemplates(n,a),this.renderDemo(c)}},{key:"replacePreview",value:function(){var t=e(".tb-list__item_current"),n=t.find(".tb-item__preview_link").attr("href"),a=e("#tb-list__item_preview");a.addClass("tb-item__preview_loading"),document.getElementById("tb-preview__frame").src=n,this.showHidePrevNext(),setTimeout(function(){a.removeClass("tb-item__preview_loading")},3e3)}},{key:"addPreviewHTML",value:function(){if(this.state.addedHtml)return!1;var e=document.createElement("div");e.innerHTML='<div id="tb-list__item_preview" class="tb-preview__wrapper" style="display:none"><div class="tb-preview__sidebar"><div class="tb-preview__header"><div class="tb-preview__actions"><button type="button" class="tb-preview__close"></button><button type="button" class="tb-preview__prev tb-list__page-disabled"></button><button type="button" class="tb-preview__next"></button></div></div><div class="tb-preview__sidebar-content"><h4></h4><div class="tb-preview__thumb"><img src="" /></div><div class="tb-preview__author"><span class="dashicons dashicons-admin-users"></span></div><button type="button" tabIndex="0" class="tb-list__item_btn tb-list__item_buy_btn" data-id="904" data-is_pro="pro">Purchase</button></div><div class="tb-preview__footer"><button type="button" class="tb-preview__collapse-btn"><span class="tb-preview__collapse-arrow"></span><span class="tb-preview__collapse-label">Hide Controls</span></button><div class="tb-preview__devices-wrapper"><div class="tb-preview__devices"><button type="button" class="tb-preview__desktop active" aria-pressed="true" data-device="desktop"><span class="screen-reader-text">Enter desktop preview mode</span></button><button type="button" class="tb-preview__tablet" aria-pressed="false" data-device="tablet"><span class="screen-reader-text">Enter tablet preview mode</span></button><button type="button" class="tb-preview__mobile" aria-pressed="false" data-device="mobile"><span class="screen-reader-text">Enter mobile preview mode</span></button></div></div></div></div><div class="tb-preview__main"><div class="tb-preview__main_loader"><div class="tb-preview__main_loading"><div class="tb-preview__lines"></div><div class="tb-preview__lines"></div><div class="tb-preview__lines"></div></div></div><iframe id="tb-preview__frame" src=""></iframe></div></div>',document.body.appendChild(e),this.setState({addedHtml:!0})}},{key:"run",value:function(){var t=this;e(document).on("click",".tb-item__preview_link",function(n){n.preventDefault(),t.addPreviewHTML();var a=e(this).closest(".tb-list__item");a.siblings().removeClass("tb-list__item_current"),a.addClass("tb-list__item_current"),a.parent().hasClass("tb-list__tk_templates")?t.replacePreview():t.renderPreview()}),e(document).on("click",".tb-preview__prev",function(n){n.preventDefault();var a=e(".tb-list__item_current"),r=e(".tb-list__item");if(!a.prev().length)return!1;var i=a.prev();r.removeClass("tb-list__item_current"),i.addClass("tb-list__item_current"),e(".tb-preview__sidebar-content").children(".tb-list__tk_templates").length>0?t.replacePreview():t.renderPreview()}),e(document).on("click",".tb-preview__next",function(n){n.preventDefault();var a=e(".tb-list__item_current"),r=e(".tb-list__item");if(!a.next().length)return!1;var i=a.next();r.removeClass("tb-list__item_current"),i.addClass("tb-list__item_current"),e(".tb-preview__sidebar-content").children(".tb-list__tk_templates").length>0?t.replacePreview():t.renderPreview()}),t.hideControls(),t.devicePreview(),t.hidePreview()}}]),t}();e(document).ready(function(){(new t).run()})}(jQuery)},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=n(0),s=n.n(l),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),__=wp.i18n.__,c=wp.element,p=c.Component,m=c.Fragment,u=function(e){function t(e){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),o(t,[{key:"render",value:function(){var e=this.props,t=e.paged,n=e.max_num_pages,a=e.setPage,r=void 0===a?function(){}:a,i=[],l=t>=3?[t-1,t,t+1]:[1,2,3];n>1&&(l.includes(1)||i.push(wp.element.createElement("li",{className:"tb-pagination-item"},wp.element.createElement("a",{className:"tb-pagination-link",href:"#","data-gpage":"1",onClick:function(){r(1)}}," ",__("1","templateberg")))),t>3&&i.push(wp.element.createElement("li",{className:"tb-pagination-item tb-pagination-dots"},wp.element.createElement("a",{className:"tb-pagination-link",href:"#"},"..."))),l.map(function(e){if(n>=e){var a=t===e?" tb-pagination-active":"";i.push(wp.element.createElement("li",{className:"tb-pagination-item "+a},wp.element.createElement("a",{className:"tb-pagination-link",href:"#","data-gpage":e,onClick:function(){r(e)}},__(e,"templateberg"))))}}),n>t+1&&(n>3&&i.push(wp.element.createElement("li",{className:"tb-pagination-item tb-pagination-dots"},wp.element.createElement("a",{className:"tb-pagination-link",href:"#"},"..."))),n>3&&i.push(wp.element.createElement("li",{className:"tb-pagination-item"},wp.element.createElement("a",{className:"tb-pagination-link",href:"#","data-gpage":n,onClick:function(){r(n)}},__(n,"templateberg"))))));var o=t===n?"tb-pagination-disabled ":"",c=t<2?"tb-pagination-disabled ":"",p=t-1<1?1:t-1,u=t+1>n?n:t+1;return wp.element.createElement(m,null,wp.element.createElement("ul",{className:"tb-pagination"},wp.element.createElement("li",{className:s()("tb-pagination-item tb-pagination-prev",c)},wp.element.createElement("a",{className:"tb-pagination-link",href:"#",onClick:function(){r(p)}},"<<")),i,wp.element.createElement("li",{className:s()("tb-pagination-item tb-pagination-next",o)},wp.element.createElement("a",{className:"tb-pagination-link",href:"#","data-gpage":t+1,onClick:function(){r(u)}},">>"))))}}]),t}(p);t.a=u},function(e,t,n){"use strict";var a=n(35);window.templatebergSettings={};var r=wp.plugins,i=r.registerPlugin,l=r.unregisterPlugin;i("templateberg",{render:function(){return wp.element.createElement(a.a,null)}}),templateberg.gutentor.active&&l("templateberg")},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=n(11),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),__=wp.i18n.__,o=wp.element,c=o.Component,p=o.Fragment,m=wp.components.Button,u=wp.element.createElement("svg",{version:"1.1",id:"black-logo",x:"0px",y:"0px",viewBox:"0 0 44 47",style:{enableBackground:"new 0 0 44 47"}},wp.element.createElement("path",{class:"cls-1",d:"M36.6,4.31A62.21,62.21,0,0,0,26,3.05C25.11,3,24.24,3,23.34,3H22A64,64,0,0,0,11.4,4a45.7,45.7,0,0,0-5.31,1.3v12.4H11.4V9.62a61.72,61.72,0,0,1,9.28-1.19V32L24,33.16,27.32,32V8.37a63,63,0,0,1,9.28,1v8.4h5.31v-12A42.36,42.36,0,0,0,36.6,4.31Z",transform:"translate(-6.09 -3)"}),wp.element.createElement("polygon",{class:"cls-1",points:"30.5 23.53 30.5 27.49 19.89 34.76 17.91 36.13 15.92 34.76 5.3 27.49 5.3 23.53 0 23.53 0 30.48 5.3 34.13 15.92 41.39 17.91 42.76 19.89 41.39 30.5 34.13 35.81 30.48 35.81 23.53 30.5 23.53"})),d=function(e){function t(e){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),s(t,[{key:"render",value:function(){if(!wp.editPost)return"";var e=wp.editPost,t=e.PluginSidebar,n=e.PluginSidebarMoreMenuItem;return wp.element.createElement(p,null,wp.element.createElement(t,{icon:u,name:"templateberg",title:__("Templateberg Settings")},wp.element.createElement("div",{className:"tb-export-button"},wp.element.createElement(m,{isPrimary:!0,isLarge:!0,id:"tb-advanced-export-button",title:__("Export the whole editor template on JSON format","templateberg"),onClick:function(){Object(l.a)()}},wp.element.createElement("img",{src:templateberg.templatebergWhiteSvg,className:"components-panel__icon",size:"20",style:{width:"20px",marginRight:"10px"}}),__("Export Template","templateberg")))),wp.element.createElement(n,{icon:u,target:"templateberg"},__("Templateberg Settings")))}}]),t}(c);t.a=d}]);