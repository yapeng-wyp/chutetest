jQuery(function(e){e(".qubely-block-contact-form form.qubely-form:not(.qubely-form-ready)").each(function(){const t=e(this);t.addClass("qubely-form-ready"),t.find("input.qubely-form-control").on("keydown",e=>{if(13===e.which)return e.preventDefault(),!1}),a(t,!0),t.submit(e=>{e.preventDefault();let r=t.serializeArray();if(r.push({name:"security",value:qubely_urls.nonce}),r=r.map(({name:e,value:t})=>{if("qubely-form-input[message*]"===e){return{name:e,value:t.replace(/(?:\r\n|\r|\n)/g,"<br>")}}return{name:e,value:t}}),!a(t)){const e=t.find('input[name="recaptcha"]').val(),a=this.querySelector("form .qubely-google-recaptcha");"true"==e&&a&&r.push({name:"captcha",value:"undefined"!=typeof grecaptcha?grecaptcha.getResponse():void 0}),jQuery.ajax({url:qubely_urls.ajax+"?action=qubely_send_form_data",type:"POST",data:r,beforeSend:()=>{t.find('button[type="submit"]').addClass("disable").attr("disabled",!0),t.find(".qubely-form-message").html('<div class="qubely-alert qubely-alert-info">Message sending...</div>')},success:e=>{t.find('button[type="submit"]').removeClass("disable").attr("disabled",!1),setTimeout(()=>t.find(".qubely-form-message").html(""),4e3),!0===e.success&&1===e.data.status?(t.trigger("reset"),t.find(".qubely-form-message").html(`<div class="qubely-alert qubely-alert-success">${e.data.msg}</div>`)):(t.find('button[type="submit"]').removeClass("disable").attr("disabled",!1),t.find(".qubely-form-message").html(`<div class="qubely-alert qubely-alert-danger">${e.data.msg}</div>`))}})}})});{function t(e){return new Promise((t,a)=>{const r=document.createElement("script");r.src=e,r.async=!0,r.onload=(()=>{t()});const n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(r,n)})}}function a(t){const a=t.find('input[name="field-error-message"]').val();let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!1;return t.find(" input[type=text], input[type=email], input[type=radio], input[type=checkbox], textarea, select").each(function(){if(!0===n)e(this).on("change keyup",function(){if(i=r(e(this),a))return!1});else if(i=r(e(this),a))return!1}),i}function r(e,t){let a=!1;const r=e.parents(".qubely-form-group-inner");t=`<p class="qubely-form-required-field">${t}</p>`;const n=0===r.find("p.qubely-form-required-field").length;if(void 0!==e.prop("required")){if("email"===e.attr("type")&&(i=e.val(),!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(i).toLowerCase())))return n&&r.append(t),!0;0===e.val().length&&(n&&r.append(t),a=!0),e.val().length>0&&(r.find("p.qubely-form-required-field").remove(),a=!1)}var i;if("radio"===e.attr("type")||"checkbox"===e.attr("type")){const i=e.parent().parent();"true"==i.attr("data-required")&&(0===i.find("input:checked").length?(n&&r.append(t),a=!0):(r.find("p.qubely-form-required-field").remove(),a=!1))}return a}this.querySelector("form .qubely-google-recaptcha")&&t("https://www.google.com/recaptcha/api.js?onload=initGoogleReChaptcha&render=explicit").then(()=>{window.initGoogleReChaptcha=(()=>{e("form.qubely-form").each(function(){const t=e(this),a=t.find('input[name="recaptcha"]').val(),r=t.find('input[name="recaptcha-site-key"]').val();if("true"==a){const e=this.querySelector("form .qubely-google-recaptcha");grecaptcha.render(e,{sitekey:r})}})})})});